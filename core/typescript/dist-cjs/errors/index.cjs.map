{"version":3,"sources":["../../errors/config-error.ts","../../errors/auth-error.ts","../../errors/storage-state-error.ts"],"names":[],"mappings":"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","file":"index.cjs","sourcesContent":["/**\n * Configuration validation error\n *\n * Thrown when configuration validation fails, providing detailed information\n * about the invalid field and suggested fixes.\n *\n * @example\n * ```typescript\n * throw new ARTKConfigError(\n *   'Invalid auth provider',\n *   'auth.provider',\n *   'Did you mean: oidc, form, token, custom?'\n * );\n * ```\n */\nexport class ARTKConfigError extends Error {\n  /**\n   * JSON path to the invalid field (e.g., 'auth.oidc.idpType')\n   */\n  public readonly field: string;\n\n  /**\n   * Optional suggestion for fixing the error\n   */\n  public readonly suggestion?: string;\n\n  constructor(message: string, field: string, suggestion?: string) {\n    super(message);\n    this.name = 'ARTKConfigError';\n    this.field = field;\n    this.suggestion = suggestion;\n\n    // Maintain proper stack trace for where error was thrown (V8 only)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ARTKConfigError);\n    }\n  }\n\n  /**\n   * Format error as a human-readable string with field path and suggestion\n   */\n  public override toString(): string {\n    let result = `${this.name}: ${this.message} (field: ${this.field})`;\n    if (this.suggestion) {\n      result += `\\n  Suggestion: ${this.suggestion}`;\n    }\n    return result;\n  }\n}\n","/**\n * Authentication failure error\n *\n * Thrown when authentication fails, providing detailed information about\n * the failure phase, role, IdP response, and remediation steps.\n *\n * @example\n * ```typescript\n * throw new ARTKAuthError(\n *   'Failed to authenticate user',\n *   'admin',\n *   'credentials',\n *   'Invalid username or password',\n *   'Verify ADMIN_USERNAME and ADMIN_PASSWORD environment variables are set correctly'\n * );\n * ```\n */\nexport class ARTKAuthError extends Error {\n  /**\n   * Role that failed to authenticate\n   */\n  public readonly role: string;\n\n  /**\n   * Phase where authentication failed\n   */\n  public readonly phase: 'navigation' | 'credentials' | 'mfa' | 'callback';\n\n  /**\n   * Optional IdP response or error message\n   */\n  public readonly idpResponse?: string;\n\n  /**\n   * Optional remediation steps to fix the error\n   */\n  public readonly remediation?: string;\n\n  constructor(\n    message: string,\n    role: string,\n    phase: 'navigation' | 'credentials' | 'mfa' | 'callback',\n    idpResponse?: string,\n    remediation?: string\n  ) {\n    super(message);\n    this.name = 'ARTKAuthError';\n    this.role = role;\n    this.phase = phase;\n    this.idpResponse = idpResponse;\n    this.remediation = remediation;\n\n    // Maintain proper stack trace for where error was thrown (V8 only)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ARTKAuthError);\n    }\n  }\n\n  /**\n   * Format error as a human-readable string with context\n   */\n  public override toString(): string {\n    let result = `${this.name}: ${this.message}\\n`;\n    result += `  Role: ${this.role}\\n`;\n    result += `  Phase: ${this.phase}`;\n\n    if (this.idpResponse) {\n      result += `\\n  IdP Response: ${this.idpResponse}`;\n    }\n\n    if (this.remediation) {\n      result += `\\n  Remediation: ${this.remediation}`;\n    }\n\n    return result;\n  }\n}\n","/**\n * Storage state error\n *\n * Thrown when storage state operations fail (loading, validation, corruption).\n *\n * @example\n * ```typescript\n * throw new ARTKStorageStateError(\n *   'Storage state file is expired',\n *   'admin',\n *   '.auth-states/admin.json',\n *   'expired'\n * );\n * ```\n */\nexport class ARTKStorageStateError extends Error {\n  /**\n   * Role associated with the storage state\n   */\n  public readonly role: string;\n\n  /**\n   * Path to the storage state file\n   */\n  public readonly path: string;\n\n  /**\n   * Cause of the storage state error\n   */\n  public readonly cause: 'missing' | 'expired' | 'corrupted' | 'invalid';\n\n  constructor(\n    message: string,\n    role: string,\n    path: string,\n    cause: 'missing' | 'expired' | 'corrupted' | 'invalid'\n  ) {\n    super(message);\n    this.name = 'ARTKStorageStateError';\n    this.role = role;\n    this.path = path;\n    this.cause = cause;\n\n    // Maintain proper stack trace for where error was thrown (V8 only)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ARTKStorageStateError);\n    }\n  }\n\n  /**\n   * Format error as a human-readable string with context\n   */\n  public override toString(): string {\n    return `${this.name}: ${this.message}\\n  Role: ${this.role}\\n  Path: ${this.path}\\n  Cause: ${this.cause}`;\n  }\n}\n"]}