{"version":3,"sources":["../../targets/target-resolver.ts","../../utils/logger.ts","../../targets/config-generator.ts","../../targets/index.ts"],"names":[],"mappings":"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","file":"index.cjs","sourcesContent":["/**\n * @module targets/target-resolver\n * @description Target resolution for ARTK E2E multi-target architecture.\n *\n * Resolves targets by name, validates target configurations, and provides\n * environment-aware URL resolution.\n *\n * @example\n * ```typescript\n * import { resolveTarget, getTargetUrl, TargetResolver } from '@artk/core/targets';\n *\n * const resolver = new TargetResolver(config);\n *\n * // Resolve a target by name\n * const target = resolver.resolve('user-portal');\n *\n * // Get URL for a specific environment\n * const url = resolver.getUrl('user-portal', 'staging');\n * ```\n */\n\nimport type { ArtkConfig, ArtkConfigTarget, ArtkEnvironmentUrls } from '../types/config.js';\nimport type { ArtkTarget, ArtkTargetType } from '../types/target.js';\n\n/**\n * Error thrown when a target cannot be resolved.\n */\nexport class TargetNotFoundError extends Error {\n  constructor(\n    public readonly targetName: string,\n    public readonly availableTargets: string[]\n  ) {\n    super(\n      `Target \"${targetName}\" not found. Available targets: ${\n        availableTargets.length > 0 ? availableTargets.join(', ') : '(none)'\n      }`\n    );\n    this.name = 'TargetNotFoundError';\n  }\n}\n\n/**\n * Error thrown when an environment is not configured for a target.\n */\nexport class EnvironmentNotFoundError extends Error {\n  constructor(\n    public readonly targetName: string,\n    public readonly environment: string,\n    public readonly availableEnvironments: string[]\n  ) {\n    super(\n      `Environment \"${environment}\" not found for target \"${targetName}\". ` +\n        `Available environments: ${\n          availableEnvironments.length > 0\n            ? availableEnvironments.join(', ')\n            : '(none)'\n        }`\n    );\n    this.name = 'EnvironmentNotFoundError';\n  }\n}\n\n/**\n * Options for target resolution.\n */\nexport interface TargetResolverOptions {\n  /**\n   * Default target to use if none specified.\n   */\n  defaultTarget?: string;\n\n  /**\n   * Default environment to use if none specified.\n   * @default 'local'\n   */\n  defaultEnvironment?: string;\n\n  /**\n   * Whether to throw on missing target.\n   * @default true\n   */\n  throwOnMissing?: boolean;\n}\n\n/**\n * Resolved target with additional metadata.\n */\nexport interface ResolvedTarget {\n  /**\n   * Target name.\n   */\n  name: string;\n\n  /**\n   * Relative path to frontend directory.\n   */\n  path: string;\n\n  /**\n   * Application type.\n   */\n  type: ArtkTargetType;\n\n  /**\n   * Optional description.\n   */\n  description?: string;\n\n  /**\n   * Whether this is the default target.\n   */\n  isDefault: boolean;\n\n  /**\n   * Available environments for this target.\n   */\n  availableEnvironments: string[];\n\n  /**\n   * Environment URLs mapping.\n   */\n  environments: Record<string, ArtkEnvironmentUrls>;\n\n  /**\n   * The original config target.\n   */\n  configTarget: ArtkConfigTarget;\n}\n\n/**\n * Target resolver class for ARTK E2E multi-target architecture.\n */\nexport class TargetResolver {\n  private readonly options: Required<TargetResolverOptions>;\n  private readonly targetMap: Map<string, ArtkConfigTarget>;\n\n  constructor(config: ArtkConfig, options?: TargetResolverOptions) {\n    this.options = {\n      defaultTarget: options?.defaultTarget ?? config.defaults.target,\n      defaultEnvironment: options?.defaultEnvironment ?? config.defaults.environment ?? 'local',\n      throwOnMissing: options?.throwOnMissing ?? true,\n    };\n\n    // Build target lookup map\n    this.targetMap = new Map();\n    for (const target of config.targets) {\n      this.targetMap.set(target.name, target);\n    }\n  }\n\n  /**\n   * Resolves a target by name.\n   *\n   * @param targetName - Name of the target to resolve (or undefined for default)\n   * @returns Resolved target\n   * @throws TargetNotFoundError if target not found and throwOnMissing is true\n   */\n  resolve(targetName?: string): ResolvedTarget | null {\n    const name = targetName ?? this.options.defaultTarget;\n\n    if (!name) {\n      if (this.options.throwOnMissing) {\n        throw new TargetNotFoundError('(default)', this.getTargetNames());\n      }\n      return null;\n    }\n\n    const configTarget = this.targetMap.get(name);\n\n    if (!configTarget) {\n      if (this.options.throwOnMissing) {\n        throw new TargetNotFoundError(name, this.getTargetNames());\n      }\n      return null;\n    }\n\n    return this.toResolvedTarget(configTarget);\n  }\n\n  /**\n   * Gets the URL for a target and environment.\n   *\n   * @param targetName - Target name (or undefined for default)\n   * @param environment - Environment name (or undefined for default)\n   * @returns Base URL for the target/environment\n   * @throws TargetNotFoundError if target not found\n   * @throws EnvironmentNotFoundError if environment not found\n   */\n  getUrl(targetName?: string, environment?: string): string {\n    const resolved = this.resolve(targetName);\n    if (!resolved) {\n      throw new TargetNotFoundError(\n        targetName ?? '(default)',\n        this.getTargetNames()\n      );\n    }\n\n    const env = environment ?? this.options.defaultEnvironment;\n    const envConfig = resolved.configTarget.environments[env];\n\n    if (!envConfig) {\n      throw new EnvironmentNotFoundError(\n        resolved.name,\n        env,\n        resolved.availableEnvironments\n      );\n    }\n\n    return envConfig.baseUrl;\n  }\n\n  /**\n   * Gets all target names.\n   */\n  getTargetNames(): string[] {\n    return Array.from(this.targetMap.keys());\n  }\n\n  /**\n   * Gets all resolved targets.\n   */\n  getAllTargets(): ResolvedTarget[] {\n    return Array.from(this.targetMap.values()).map((t) =>\n      this.toResolvedTarget(t)\n    );\n  }\n\n  /**\n   * Gets the default target.\n   */\n  getDefaultTarget(): ResolvedTarget | null {\n    if (!this.options.defaultTarget) {\n      return null;\n    }\n    return this.resolve(this.options.defaultTarget);\n  }\n\n  /**\n   * Checks if a target exists.\n   */\n  hasTarget(targetName: string): boolean {\n    return this.targetMap.has(targetName);\n  }\n\n  /**\n   * Checks if an environment exists for a target.\n   */\n  hasEnvironment(targetName: string, environment: string): boolean {\n    const target = this.targetMap.get(targetName);\n    if (!target) {\n      return false;\n    }\n    return environment in target.environments;\n  }\n\n  /**\n   * Gets all environments for a target.\n   */\n  getEnvironments(targetName: string): string[] {\n    const target = this.targetMap.get(targetName);\n    if (!target) {\n      return [];\n    }\n    return Object.keys(target.environments);\n  }\n\n  /**\n   * Converts a config target to a resolved target.\n   */\n  private toResolvedTarget(configTarget: ArtkConfigTarget): ResolvedTarget {\n    return {\n      name: configTarget.name,\n      path: configTarget.path,\n      type: configTarget.type,\n      description: configTarget.description,\n      isDefault: configTarget.name === this.options.defaultTarget,\n      availableEnvironments: Object.keys(configTarget.environments),\n      environments: configTarget.environments,\n      configTarget,\n    };\n  }\n}\n\n/**\n * Creates a target resolver from a config.\n *\n * @param config - ARTK configuration\n * @param options - Resolver options\n * @returns Target resolver instance\n */\nexport function createTargetResolver(\n  config: ArtkConfig,\n  options?: TargetResolverOptions\n): TargetResolver {\n  return new TargetResolver(config, options);\n}\n\n/**\n * Resolves a target by name from a config.\n *\n * @param config - ARTK configuration\n * @param targetName - Target name (or undefined for default)\n * @returns Resolved target or null\n */\nexport function resolveTarget(\n  config: ArtkConfig,\n  targetName?: string\n): ResolvedTarget | null {\n  const resolver = new TargetResolver(config, { throwOnMissing: false });\n  return resolver.resolve(targetName);\n}\n\n/**\n * Gets the URL for a target and environment.\n *\n * @param config - ARTK configuration\n * @param targetName - Target name\n * @param environment - Environment name\n * @returns Base URL\n * @throws TargetNotFoundError if target not found\n * @throws EnvironmentNotFoundError if environment not found\n */\nexport function getTargetUrl(\n  config: ArtkConfig,\n  targetName: string,\n  environment?: string\n): string {\n  const resolver = new TargetResolver(config);\n  return resolver.getUrl(targetName, environment);\n}\n\n/**\n * Gets all target names from a config.\n *\n * @param config - ARTK configuration\n * @returns Array of target names\n */\nexport function getTargetNames(config: ArtkConfig): string[] {\n  return config.targets.map((t) => t.name);\n}\n\n/**\n * Validates that all targets have the required environments.\n *\n * @param config - ARTK configuration\n * @param requiredEnvironments - List of required environment names\n * @returns Validation result\n */\nexport function validateTargetEnvironments(\n  config: ArtkConfig,\n  requiredEnvironments: string[]\n): {\n  valid: boolean;\n  errors: Array<{\n    target: string;\n    missing: string[];\n  }>;\n} {\n  const errors: Array<{ target: string; missing: string[] }> = [];\n\n  for (const target of config.targets) {\n    const available = Object.keys(target.environments);\n    const missing = requiredEnvironments.filter(\n      (env) => !available.includes(env)\n    );\n\n    if (missing.length > 0) {\n      errors.push({ target: target.name, missing });\n    }\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Creates an ArtkTarget from an ArtkConfigTarget.\n * Strips config-specific fields like environments.\n *\n * @param configTarget - The config target to convert\n * @param detectedBy - Detection signals (required for ArtkTarget, defaults to empty)\n */\nexport function configTargetToArtkTarget(\n  configTarget: ArtkConfigTarget,\n  detectedBy: string[] = []\n): ArtkTarget {\n  return {\n    name: configTarget.name,\n    path: configTarget.path,\n    type: configTarget.type,\n    detected_by: detectedBy,\n    description: configTarget.description,\n  };\n}\n\n/**\n * Filters targets by type.\n */\nexport function filterTargetsByType(\n  config: ArtkConfig,\n  type: ArtkTargetType\n): ArtkConfigTarget[] {\n  return config.targets.filter((t) => t.type === type);\n}\n\n/**\n * Gets the storage state path for a target.\n */\nexport function getTargetStorageStatePath(\n  config: ArtkConfig,\n  targetName: string,\n  role: string = 'default'\n): string {\n  const storageStateDir = config.auth?.storageStateDir ?? '.auth-states';\n  return `${storageStateDir}/${targetName}/${role}.json`;\n}\n","/**\n * Structured logger utility\n *\n * Provides structured JSON logging with verbosity levels (debug, info, warn, error)\n * as required by NFR-001, NFR-002, and NFR-003.\n *\n * All logs include module, operation, and timestamp for filtering and aggregation.\n *\n * @example\n * ```typescript\n * import { createLogger } from './logger.js';\n *\n * const logger = createLogger('config', 'loadConfig');\n * logger.info('Loading configuration', { path: 'artk.config.yml' });\n * logger.error('Validation failed', { errors: [...] });\n * ```\n */\n\n/**\n * Log levels in order of severity\n */\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error';\n\n/**\n * Log output format\n */\nexport type LogFormat = 'json' | 'pretty';\n\n/**\n * Structured log entry\n */\nexport interface LogEntry {\n  level: LogLevel;\n  module: string;\n  operation: string;\n  timestamp: string;\n  message: string;\n  context?: Record<string, unknown>;\n}\n\n/**\n * Logger configuration\n */\nexport interface LoggerConfig {\n  minLevel: LogLevel;\n  format: LogFormat;\n  output: (entry: LogEntry) => void;\n}\n\n/**\n * Log level numeric values for comparison\n */\nconst LOG_LEVELS: Record<LogLevel, number> = {\n  debug: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n};\n\n/**\n * Format log entry as pretty text\n *\n * @param entry - Log entry to format\n * @returns Formatted string\n */\nfunction formatPretty(entry: LogEntry): string {\n  // Extract time from ISO timestamp (HH:MM:SS)\n  const time = entry.timestamp.split('T')[1]?.split('.')[0] || '00:00:00';\n\n  // Format level (uppercase, padded to 5 chars for alignment)\n  const level = entry.level.toUpperCase().padEnd(5);\n\n  // Format context if present\n  const context = entry.context ? ` ${JSON.stringify(entry.context)}` : '';\n\n  return `[${time}] ${level} [${entry.module}] ${entry.message}${context}`;\n}\n\n/**\n * Global logger configuration\n */\nlet globalConfig: LoggerConfig = {\n  minLevel: 'info',\n  format: 'json',\n  output: (entry: LogEntry): void => {\n    // eslint-disable-next-line no-console\n    const target = entry.level === 'error' ? console.error : console.log;\n\n    if (globalConfig.format === 'pretty') {\n      target(formatPretty(entry));\n    } else {\n      target(JSON.stringify(entry));\n    }\n  },\n};\n\n/**\n * Configure global logger settings\n *\n * @param config - Logger configuration\n *\n * @example\n * ```typescript\n * // JSON format (default, for production)\n * configureLogger({\n *   minLevel: 'debug',\n *   format: 'json'\n * });\n *\n * // Pretty format (for local development)\n * configureLogger({\n *   minLevel: 'debug',\n *   format: 'pretty'\n * });\n *\n * // Custom output\n * configureLogger({\n *   output: (entry) => fs.appendFileSync('artk.log', JSON.stringify(entry) + '\\n')\n * });\n * ```\n */\nexport function configureLogger(config: Partial<LoggerConfig>): void {\n  globalConfig = { ...globalConfig, ...config };\n}\n\n/**\n * Get current logger configuration\n */\nexport function getLoggerConfig(): Readonly<LoggerConfig> {\n  return { ...globalConfig };\n}\n\n/**\n * Logger interface\n */\nexport interface Logger {\n  debug(message: string, context?: Record<string, unknown>): void;\n  info(message: string, context?: Record<string, unknown>): void;\n  warn(message: string, context?: Record<string, unknown>): void;\n  error(message: string, context?: Record<string, unknown>): void;\n}\n\n/**\n * Create a logger for a specific module and operation\n *\n * @param module - Module name (e.g., 'config', 'auth', 'fixtures')\n * @param operation - Operation name (e.g., 'loadConfig', 'saveStorageState')\n * @returns Logger instance\n *\n * @example\n * ```typescript\n * const logger = createLogger('auth', 'oidcLogin');\n * logger.info('Starting OIDC login flow', { role: 'admin' });\n * ```\n */\nexport function createLogger(module: string, operation: string): Logger {\n  const log = (level: LogLevel, message: string, context?: Record<string, unknown>): void => {\n    // Check if this log level should be output\n    if (LOG_LEVELS[level] < LOG_LEVELS[globalConfig.minLevel]) {\n      return;\n    }\n\n    const entry: LogEntry = {\n      level,\n      module,\n      operation,\n      timestamp: new Date().toISOString(),\n      message,\n      context,\n    };\n\n    globalConfig.output(entry);\n  };\n\n  return {\n    debug: (message: string, context?: Record<string, unknown>): void => log('debug', message, context),\n    info: (message: string, context?: Record<string, unknown>): void => log('info', message, context),\n    warn: (message: string, context?: Record<string, unknown>): void => log('warn', message, context),\n    error: (message: string, context?: Record<string, unknown>): void => log('error', message, context),\n  };\n}\n\n/**\n * Parse log level from string (case-insensitive)\n *\n * @param level - Log level string\n * @returns Parsed log level or undefined if invalid\n *\n * @example\n * ```typescript\n * const level = parseLogLevel(process.env.LOG_LEVEL);\n * if (level) {\n *   configureLogger({ minLevel: level });\n * }\n * ```\n */\nexport function parseLogLevel(level: string | undefined): LogLevel | undefined {\n  if (!level) {\n    return undefined;\n  }\n\n  const normalized = level.toLowerCase() as LogLevel;\n  if (normalized in LOG_LEVELS) {\n    return normalized;\n  }\n\n  return undefined;\n}\n","/**\n * @module targets/config-generator\n * @description ARTK configuration file generator for multi-target architecture.\n *\n * Generates artk.config.yml files with target definitions and environment URLs.\n *\n * @example\n * ```typescript\n * import { generateArtkConfig, ConfigGeneratorOptions } from '@artk/core/targets';\n *\n * const config = generateArtkConfig({\n *   projectName: 'my-project',\n *   targets: [\n *     {\n *       name: 'user-portal',\n *       path: '../frontend',\n *       type: 'react-spa',\n *       environments: {\n *         local: { baseUrl: 'http://localhost:3000' },\n *         staging: { baseUrl: 'https://staging.example.com' },\n *       },\n *     },\n *   ],\n * });\n *\n * await fs.writeFile('artk-e2e/artk.config.yml', config);\n * ```\n */\n\nimport type { BrowserChannel, BrowserStrategy } from '../config/types.js';\nimport type { ArtkEnvironmentUrls } from '../types/config.js';\nimport type { ArtkTargetType } from '../types/target.js';\nimport { createLogger } from '../utils/logger.js';\n\nconst logger = createLogger('targets', 'config-generator');\n\n/**\n * Target input for config generation.\n */\nexport interface ConfigTargetInput {\n  /**\n   * Target name (lowercase-kebab-case).\n   */\n  name: string;\n\n  /**\n   * Relative path from artk-e2e/ to frontend directory.\n   */\n  path: string;\n\n  /**\n   * Application type.\n   */\n  type: ArtkTargetType;\n\n  /**\n   * Optional description.\n   */\n  description?: string;\n\n  /**\n   * Environment URLs.\n   */\n  environments: Record<string, ArtkEnvironmentUrls>;\n}\n\n/**\n * Options for generating artk.config.yml.\n */\nexport interface ConfigGeneratorOptions {\n  /**\n   * Project name.\n   */\n  projectName: string;\n\n  /**\n   * Optional project description.\n   */\n  projectDescription?: string;\n\n  /**\n   * Target configurations.\n   */\n  targets: ConfigTargetInput[];\n\n  /**\n   * Default target name.\n   * If not specified, uses the first target.\n   */\n  defaultTarget?: string;\n\n  /**\n   * Default environment name.\n   * @default 'local'\n   */\n  defaultEnvironment?: string;\n\n  /**\n   * Whether to include auth configuration section.\n   * @default false\n   */\n  includeAuth?: boolean;\n\n  /**\n   * Storage state directory for auth.\n   * @default '.auth-states'\n   */\n  storageStateDir?: string;\n\n  /**\n   * Whether to include browser configuration.\n   * @default true\n   */\n  includeBrowserConfig?: boolean;\n\n  /**\n   * Enabled browsers.\n   * @default ['chromium']\n   */\n  browsers?: ('chromium' | 'firefox' | 'webkit')[];\n\n  /**\n   * Browser channel selection.\n   * @default 'bundled'\n   */\n  browserChannel?: BrowserChannel;\n\n  /**\n   * Browser strategy preference.\n   * @default 'auto'\n   */\n  browserStrategy?: BrowserStrategy;\n\n  /**\n   * Whether to include timeout configuration.\n   * @default true\n   */\n  includeTimeouts?: boolean;\n\n  /**\n   * Whether to include comments in output.\n   * @default true\n   */\n  includeComments?: boolean;\n}\n\n/**\n * Default configuration options.\n */\nconst DEFAULT_OPTIONS: Partial<ConfigGeneratorOptions> = {\n  defaultEnvironment: 'local',\n  includeAuth: false,\n  storageStateDir: '.auth-states',\n  includeBrowserConfig: true,\n  browsers: ['chromium'],\n  browserChannel: 'bundled',\n  browserStrategy: 'auto',\n  includeTimeouts: true,\n  includeComments: true,\n};\n\n/**\n * Generates YAML content for artk.config.yml.\n *\n * @param options - Configuration options\n * @returns YAML configuration file content\n */\nexport function generateArtkConfig(options: ConfigGeneratorOptions): string {\n  const opts = { ...DEFAULT_OPTIONS, ...options };\n  const lines: string[] = [];\n\n  // Header\n  if (opts.includeComments) {\n    lines.push('# ARTK E2E Configuration');\n    lines.push('# Generated by ARTK init');\n    lines.push('# See: https://artk.dev/docs/config');\n    lines.push('');\n  }\n\n  // Schema version\n  lines.push('schemaVersion: \"2.0\"');\n  lines.push('');\n\n  // Project section\n  if (opts.includeComments) {\n    lines.push('# Project metadata');\n  }\n  lines.push('project:');\n  lines.push(`  name: ${opts.projectName}`);\n  if (opts.projectDescription) {\n    lines.push(`  description: ${quoteIfNeeded(opts.projectDescription)}`);\n  }\n  lines.push('');\n\n  // Targets section\n  if (opts.includeComments) {\n    lines.push('# Frontend targets to test');\n  }\n  lines.push('targets:');\n  for (const target of opts.targets) {\n    lines.push(`  - name: ${target.name}`);\n    lines.push(`    path: ${target.path}`);\n    lines.push(`    type: ${target.type}`);\n    if (target.description) {\n      lines.push(`    description: ${quoteIfNeeded(target.description)}`);\n    }\n    lines.push('    environments:');\n    for (const [envName, envConfig] of Object.entries(target.environments)) {\n      lines.push(`      ${envName}:`);\n      lines.push(`        baseUrl: ${envConfig.baseUrl}`);\n      if (envConfig.apiUrl) {\n        lines.push(`        apiUrl: ${envConfig.apiUrl}`);\n      }\n    }\n  }\n  lines.push('');\n\n  // Defaults section\n  if (opts.includeComments) {\n    lines.push('# Default settings');\n  }\n  lines.push('defaults:');\n  lines.push(`  target: ${opts.defaultTarget || opts.targets[0]?.name || 'default'}`);\n  lines.push(`  environment: ${opts.defaultEnvironment}`);\n  lines.push('');\n\n  // Auth section (optional)\n  if (opts.includeAuth) {\n    if (opts.includeComments) {\n      lines.push('# Authentication configuration');\n    }\n    lines.push('auth:');\n    lines.push('  enabled: true');\n    lines.push(`  storageStateDir: ${opts.storageStateDir}`);\n    lines.push('  roles:');\n    lines.push('    default:');\n    lines.push('      credentialsEnv:');\n    lines.push('        username: ARTK_USERNAME');\n    lines.push('        password: ARTK_PASSWORD');\n    if (opts.includeComments) {\n      lines.push('  # Uncomment for OIDC authentication:');\n      lines.push('  # oidc:');\n      lines.push('  #   idpType: keycloak');\n      lines.push('  #   loginUrl: /auth/login');\n      lines.push('  #   success:');\n      lines.push('  #     url: /dashboard');\n    }\n    lines.push('');\n  }\n\n  // Browser configuration (optional)\n  if (opts.includeBrowserConfig) {\n    if (opts.includeComments) {\n      lines.push('# Browser configuration');\n    }\n    lines.push('browsers:');\n    lines.push('  enabled:');\n    for (const browser of opts.browsers || ['chromium']) {\n      lines.push(`    - ${browser}`);\n    }\n    lines.push(`  channel: ${opts.browserChannel}`);\n    lines.push(`  strategy: ${opts.browserStrategy}`);\n    lines.push('  headless: true');\n    lines.push('');\n  }\n\n  // Timeout configuration (optional)\n  if (opts.includeTimeouts) {\n    if (opts.includeComments) {\n      lines.push('# Timeout configuration (milliseconds)');\n    }\n    lines.push('timeouts:');\n    lines.push('  default: 30000');\n    lines.push('  navigation: 60000');\n    lines.push('  auth: 120000');\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Generates a minimal artk.config.yml for quick setup.\n *\n * @param projectName - Project name\n * @param targetPath - Path to the frontend directory\n * @param targetType - Application type\n * @returns Minimal YAML configuration\n */\nexport function generateMinimalArtkConfig(\n  projectName: string,\n  targetPath: string,\n  targetType: ArtkTargetType = 'react-spa'\n): string {\n  return generateArtkConfig({\n    projectName,\n    targets: [\n      {\n        name: 'main',\n        path: targetPath,\n        type: targetType,\n        environments: {\n          local: { baseUrl: 'http://localhost:3000' },\n        },\n      },\n    ],\n    includeAuth: false,\n    includeBrowserConfig: false,\n    includeTimeouts: false,\n    includeComments: false,\n  });\n}\n\n/**\n * Generates artk.config.yml from detected targets.\n *\n * @param projectName - Project name\n * @param detectedTargets - Targets detected by frontend detector\n * @returns YAML configuration\n */\nexport function generateConfigFromDetection(\n  projectName: string,\n  detectedTargets: Array<{\n    name: string;\n    path: string;\n    type: ArtkTargetType;\n    description?: string;\n  }>\n): string {\n  const targets: ConfigTargetInput[] = detectedTargets.map((target) => ({\n    name: target.name,\n    path: target.path,\n    type: target.type,\n    description: target.description,\n    environments: {\n      local: {\n        baseUrl: 'http://localhost:3000',\n      },\n      staging: {\n        baseUrl: `https://staging.${target.name}.example.com`,\n      },\n      production: {\n        baseUrl: `https://${target.name}.example.com`,\n      },\n    },\n  }));\n\n  return generateArtkConfig({\n    projectName,\n    targets,\n    includeAuth: true,\n    includeComments: true,\n  });\n}\n\n/**\n * Validates a target name follows the lowercase-kebab-case pattern.\n */\nexport function isValidTargetName(name: string): boolean {\n  return /^[a-z][a-z0-9-]*$/.test(name);\n}\n\n/**\n * Normalizes a directory name to a valid target name.\n *\n * @param dirName - Directory name to normalize\n * @returns Valid target name\n */\nexport function normalizeTargetName(dirName: string): string {\n  return dirName\n    .toLowerCase()\n    .replace(/[^a-z0-9-]/g, '-')\n    .replace(/^-+|-+$/g, '')\n    .replace(/-+/g, '-')\n    || 'app';\n}\n\n/**\n * Quotes a string if it contains special YAML characters.\n */\nfunction quoteIfNeeded(value: string): string {\n  // Check for special characters that need quoting\n  if (/[:#{}[\\],&*?|<>=!%@`]/.test(value) || value.includes('\\n')) {\n    return `\"${value.replace(/\"/g, '\\\\\"')}\"`;\n  }\n  return value;\n}\n\n/**\n * Parses environment URLs from common patterns.\n *\n * @param baseUrl - Base URL for local environment\n * @param targetName - Target name for generating other URLs\n * @returns Environment URLs map\n */\nexport function generateEnvironmentUrls(\n  baseUrl: string,\n  targetName: string\n): Record<string, ArtkEnvironmentUrls> {\n  // Extract domain from base URL for staging/production generation\n  let url: URL;\n  try {\n    url = new URL(baseUrl);\n  } catch (error) {\n    // Invalid URL - log warning and return sensible defaults based on target name\n    logger.warn('Invalid baseUrl provided, using default environment URLs', {\n      baseUrl,\n      targetName,\n      error: error instanceof Error ? error.message : String(error),\n    });\n    return {\n      local: { baseUrl: 'http://localhost:3000' },\n      staging: {\n        baseUrl: `https://staging.${targetName}.example.com`,\n      },\n      production: {\n        baseUrl: `https://${targetName}.example.com`,\n      },\n    };\n  }\n  const isLocalhost = url.hostname === 'localhost' || url.hostname === '127.0.0.1';\n\n  if (isLocalhost) {\n    return {\n      local: { baseUrl },\n      staging: {\n        baseUrl: `https://staging.${targetName}.example.com`,\n      },\n      production: {\n        baseUrl: `https://${targetName}.example.com`,\n      },\n    };\n  }\n\n  // If not localhost, assume it's already a real URL\n  const domain = url.hostname.replace(/^(www|staging|dev)\\./, '');\n  return {\n    local: {\n      baseUrl: `http://localhost:${url.port || '3000'}`,\n    },\n    staging: {\n      baseUrl: `https://staging.${domain}`,\n    },\n    production: {\n      baseUrl: `https://${domain}`,\n    },\n  };\n}\n\n/**\n * Config generator result with metadata.\n */\nexport interface ConfigGeneratorResult {\n  /**\n   * Generated YAML content.\n   */\n  content: string;\n\n  /**\n   * Number of targets in config.\n   */\n  targetCount: number;\n\n  /**\n   * Default target name.\n   */\n  defaultTarget: string;\n\n  /**\n   * List of all target names.\n   */\n  targetNames: string[];\n\n  /**\n   * Warnings from generation (e.g., normalized target names).\n   */\n  warnings: string[];\n}\n\n/**\n * Generates artk.config.yml with detailed result.\n *\n * @param options - Configuration options\n * @returns Generation result with metadata\n */\nexport function generateArtkConfigWithResult(\n  options: ConfigGeneratorOptions\n): ConfigGeneratorResult {\n  const warnings: string[] = [];\n\n  // Validate targets array is not empty\n  const targets = options.targets ?? [];\n  if (targets.length === 0) {\n    warnings.push('No targets provided - configuration will have no frontend targets');\n  }\n\n  // Validate and normalize target names\n  const normalizedTargets = targets.map((target) => {\n    if (!isValidTargetName(target.name)) {\n      const normalized = normalizeTargetName(target.name);\n      warnings.push(\n        `Target name \"${target.name}\" normalized to \"${normalized}\"`\n      );\n      return { ...target, name: normalized };\n    }\n    return target;\n  });\n\n  // Check for duplicate target names\n  const names = normalizedTargets.map((t) => t.name);\n  const duplicates = names.filter((name, i) => names.indexOf(name) !== i);\n  if (duplicates.length > 0) {\n    warnings.push(`Duplicate target names detected: ${duplicates.join(', ')}`);\n  }\n\n  // Check target count limit\n  if (normalizedTargets.length > 5) {\n    warnings.push(\n      `Target count (${normalizedTargets.length}) exceeds recommended limit of 5`\n    );\n  }\n\n  const content = generateArtkConfig({\n    ...options,\n    targets: normalizedTargets,\n  });\n\n  const defaultTarget =\n    options.defaultTarget || normalizedTargets[0]?.name || 'default';\n\n  return {\n    content,\n    targetCount: normalizedTargets.length,\n    defaultTarget,\n    targetNames: normalizedTargets.map((t) => t.name),\n    warnings,\n  };\n}\n","/**\n * @module targets\n * @description Multi-target support for ARTK E2E architecture.\n * Resolves targets by name and manages target-specific configurations.\n *\n * @example\n * ```typescript\n * import { resolveTarget, getTargetBaseUrl } from '@artk/core/targets';\n *\n * const target = resolveTarget(config, 'user-portal');\n * const baseUrl = getTargetBaseUrl(config, 'user-portal', 'staging');\n * ```\n */\n\nexport * from './target-resolver.js';\nexport * from './config-generator.js';\n\n/**\n * Targets module version.\n */\nexport const TARGETS_MODULE_VERSION = '1.0.0';\n"]}