{"version":3,"sources":["../../locators/strategies.ts","../../locators/testid.ts","../../locators/aria.ts","../../locators/factory.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * Locator strategy implementations\n *\n * Implements FR-017: Support for role, label, placeholder, text, CSS strategies\n *\n * Provides accessibility-first locator strategies that prioritize\n * semantic HTML and ARIA attributes over brittle CSS selectors.\n *\n * @module locators/strategies\n */\n\nimport type { Locator, Page } from '@playwright/test';\nimport type { ByRoleOptions } from './types.js';\n\n// =============================================================================\n// Accessibility-First Strategy Functions\n// =============================================================================\n\n/**\n * Locate element by ARIA role\n *\n * Uses Playwright's getByRole which queries based on ARIA role attribute.\n * This is the most robust strategy for interactive elements.\n *\n * @param page - Playwright Page object\n * @param role - ARIA role name\n * @param options - Additional role-based filters\n * @returns Locator for matching elements\n *\n * @example\n * ```ts\n * // Locate button by role\n * byRole(page, 'button', { name: 'Submit' })\n *\n * // Locate heading by role and level\n * byRole(page, 'heading', { level: 1 })\n *\n * // Locate checkbox by role and state\n * byRole(page, 'checkbox', { name: 'Accept terms', checked: true })\n * ```\n */\nexport function byRole(\n  page: Page,\n  role: string,\n  options?: ByRoleOptions\n): Locator {\n  // Convert our options to Playwright's format\n  const playwrightOptions: Parameters<Page['getByRole']>[1] = {};\n\n  if (options) {\n    if (options.name !== undefined) {\n      playwrightOptions.name = options.name;\n    }\n    if (options.checked !== undefined) {\n      playwrightOptions.checked = options.checked;\n    }\n    if (options.disabled !== undefined) {\n      playwrightOptions.disabled = options.disabled;\n    }\n    if (options.expanded !== undefined) {\n      playwrightOptions.expanded = options.expanded;\n    }\n    if (options.level !== undefined) {\n      playwrightOptions.level = options.level;\n    }\n    if (options.pressed !== undefined) {\n      playwrightOptions.pressed = options.pressed;\n    }\n    if (options.selected !== undefined) {\n      playwrightOptions.selected = options.selected;\n    }\n    if (options.exact !== undefined) {\n      playwrightOptions.exact = options.exact;\n    }\n    if (options.includeHidden !== undefined) {\n      playwrightOptions.includeHidden = options.includeHidden;\n    }\n  }\n\n  return page.getByRole(\n    role as Parameters<Page['getByRole']>[0],\n    playwrightOptions\n  );\n}\n\n/**\n * Locate element by associated label text\n *\n * Uses Playwright's getByLabel which finds form controls by their\n * associated <label> element text.\n *\n * @param page - Playwright Page object\n * @param label - Label text (exact match or regex)\n * @param options - Additional options\n * @returns Locator for matching form control\n *\n * @example\n * ```ts\n * // Locate input by label text\n * byLabel(page, 'Email address')\n *\n * // Locate input by label with regex\n * byLabel(page, /email/i)\n *\n * // Locate input by label with exact match\n * byLabel(page, 'Username', { exact: true })\n * ```\n */\nexport function byLabel(\n  page: Page,\n  label: string | RegExp,\n  options?: { exact?: boolean }\n): Locator {\n  return page.getByLabel(label, options);\n}\n\n/**\n * Locate input element by placeholder text\n *\n * Uses Playwright's getByPlaceholder which finds input elements\n * by their placeholder attribute.\n *\n * @param page - Playwright Page object\n * @param placeholder - Placeholder text (exact match or regex)\n * @param options - Additional options\n * @returns Locator for matching input element\n *\n * @example\n * ```ts\n * // Locate input by placeholder\n * byPlaceholder(page, 'Enter your email')\n *\n * // Locate input by placeholder with regex\n * byPlaceholder(page, /search/i)\n *\n * // Locate input by placeholder with exact match\n * byPlaceholder(page, 'Search...', { exact: true })\n * ```\n */\nexport function byPlaceholder(\n  page: Page,\n  placeholder: string | RegExp,\n  options?: { exact?: boolean }\n): Locator {\n  return page.getByPlaceholder(placeholder, options);\n}\n\n/**\n * Locate element by visible text content\n *\n * Uses Playwright's getByText which finds elements containing\n * the specified text. Use sparingly as text can change frequently.\n *\n * @param page - Playwright Page object\n * @param text - Text content (exact match or regex)\n * @param options - Additional options\n * @returns Locator for matching elements\n *\n * @example\n * ```ts\n * // Locate element by text\n * byText(page, 'Click here')\n *\n * // Locate element by text with regex\n * byText(page, /click/i)\n *\n * // Locate element by exact text match\n * byText(page, 'Submit', { exact: true })\n * ```\n */\nexport function byText(\n  page: Page,\n  text: string | RegExp,\n  options?: { exact?: boolean }\n): Locator {\n  return page.getByText(text, options);\n}\n\n/**\n * Locate element by CSS selector\n *\n * Fallback strategy using standard CSS selector.\n * Use only when semantic strategies are not applicable.\n *\n * @param page - Playwright Page object\n * @param selector - CSS selector string\n * @returns Locator for matching elements\n *\n * @example\n * ```ts\n * // Locate by CSS class\n * byCss(page, '.submit-button')\n *\n * // Locate by ID\n * byCss(page, '#login-form')\n *\n * // Locate by complex selector\n * byCss(page, 'form > div.field:nth-child(2) input')\n * ```\n */\nexport function byCss(page: Page, selector: string): Locator {\n  return page.locator(selector);\n}\n\n// =============================================================================\n// Combined Strategy Resolution\n// =============================================================================\n\n/**\n * Try to locate element using specified strategy\n *\n * Returns null if strategy cannot be applied or element not found.\n * Used internally by the locate() function for strategy chaining.\n *\n * @param page - Playwright Page object\n * @param strategy - Strategy name to try\n * @param selector - Selector value appropriate for the strategy\n * @param options - Strategy-specific options\n * @returns Locator if found, null if strategy inapplicable\n *\n * @internal\n */\nexport function tryStrategy(\n  page: Page,\n  strategy: string,\n  selector: string,\n  options?: ByRoleOptions | { exact?: boolean }\n): Locator | null {\n  try {\n    switch (strategy) {\n      case 'role':\n        return byRole(page, selector, options as ByRoleOptions | undefined);\n      case 'label':\n        return byLabel(\n          page,\n          selector,\n          options as { exact?: boolean } | undefined\n        );\n      case 'placeholder':\n        return byPlaceholder(\n          page,\n          selector,\n          options as { exact?: boolean } | undefined\n        );\n      case 'text':\n        return byText(\n          page,\n          selector,\n          options as { exact?: boolean } | undefined\n        );\n      case 'css':\n        return byCss(page, selector);\n      default:\n        return null;\n    }\n  } catch {\n    return null;\n  }\n}\n","/**\n * Test ID locator utilities with custom attribute support\n *\n * Implements FR-019: Custom test ID attribute configuration\n *\n * Provides flexible test ID locator resolution that supports:\n * - Primary test ID attribute (default: 'data-testid')\n * - Multiple custom test ID attributes\n * - Fallback mechanism across configured attributes\n *\n * @module locators/testid\n */\n\nimport type { Locator, Page } from '@playwright/test';\nimport type { LocatorFactoryConfig } from './types.js';\n\n// =============================================================================\n// Test ID Locator Functions\n// =============================================================================\n\n/**\n * Locate element by test ID using configured attribute\n *\n * Tries primary testIdAttribute first, then falls back to customTestIds\n * if configured. Returns first matching element.\n *\n * @param page - Playwright Page object\n * @param testId - Test ID value to locate\n * @param config - Locator factory configuration\n * @returns Locator for the element\n *\n * @example\n * ```ts\n * const config = {\n *   testIdAttribute: 'data-testid',\n *   customTestIds: ['data-test', 'data-qa'],\n *   strategies: ['testid', 'role']\n * };\n *\n * // Tries: [data-testid=\"submit\"], [data-test=\"submit\"], [data-qa=\"submit\"]\n * const button = byTestId(page, 'submit', config);\n * ```\n */\nexport function byTestId(\n  page: Page,\n  testId: string,\n  config: LocatorFactoryConfig\n): Locator {\n  // Try primary test ID attribute first\n  const primarySelector = `[${config.testIdAttribute}=\"${testId}\"]`;\n  const primaryLocator = page.locator(primarySelector);\n\n  // If no custom test IDs configured, return primary locator\n  if (!config.customTestIds || config.customTestIds.length === 0) {\n    return primaryLocator;\n  }\n\n  // Build CSS selector that matches any configured test ID attribute\n  const allSelectors = [\n    config.testIdAttribute,\n    ...(config.customTestIds || []),\n  ].map((attr) => `[${attr}=\"${testId}\"]`);\n\n  const combinedSelector = allSelectors.join(', ');\n\n  return page.locator(combinedSelector).first();\n}\n\n/**\n * Check if element has test ID using any configured attribute\n *\n * Useful for validating element presence or debugging locator issues.\n *\n * @param locator - Playwright Locator to check\n * @param testId - Expected test ID value\n * @param config - Locator factory configuration\n * @returns Promise resolving to true if element has the test ID\n *\n * @example\n * ```ts\n * const button = page.locator('button').first();\n * const hasTestId = await hasTestIdAttribute(button, 'submit', config);\n * ```\n */\nexport async function hasTestIdAttribute(\n  locator: Locator,\n  testId: string,\n  config: LocatorFactoryConfig\n): Promise<boolean> {\n  // Build list of all test ID attributes to check\n  const attributes = [\n    config.testIdAttribute,\n    ...(config.customTestIds || []),\n  ];\n\n  // Check each attribute\n  for (const attr of attributes) {\n    try {\n      const value = await locator.getAttribute(attr);\n      if (value === testId) {\n        return true;\n      }\n    } catch {\n      // Attribute doesn't exist on element, continue to next\n      continue;\n    }\n  }\n\n  return false;\n}\n\n/**\n * Get test ID value from element using any configured attribute\n *\n * Returns the first test ID value found, checking attributes in order:\n * 1. Primary testIdAttribute\n * 2. Custom test ID attributes (if configured)\n *\n * @param locator - Playwright Locator to inspect\n * @param config - Locator factory configuration\n * @returns Promise resolving to test ID value or null if not found\n *\n * @example\n * ```ts\n * const button = page.locator('button').first();\n * const testId = await getTestIdValue(button, config);\n * console.log(`Button test ID: ${testId}`);\n * ```\n */\nexport async function getTestIdValue(\n  locator: Locator,\n  config: LocatorFactoryConfig\n): Promise<string | null> {\n  // Build list of all test ID attributes to check\n  const attributes = [\n    config.testIdAttribute,\n    ...(config.customTestIds || []),\n  ];\n\n  // Check each attribute in order\n  for (const attr of attributes) {\n    try {\n      const value = await locator.getAttribute(attr);\n      if (value) {\n        return value;\n      }\n    } catch {\n      // Attribute doesn't exist on element, continue to next\n      continue;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Create test ID selector string for use in CSS selectors\n *\n * Generates attribute selector for primary test ID attribute.\n * Useful for combining with other CSS selectors.\n *\n * @param testId - Test ID value\n * @param config - Locator factory configuration\n * @returns CSS attribute selector string\n *\n * @example\n * ```ts\n * const selector = createTestIdSelector('submit', config);\n * // Returns: '[data-testid=\"submit\"]'\n *\n * const complexSelector = `form ${selector}`;\n * // Use in page.locator(complexSelector)\n * ```\n */\nexport function createTestIdSelector(\n  testId: string,\n  config: LocatorFactoryConfig\n): string {\n  return `[${config.testIdAttribute}=\"${testId}\"]`;\n}\n\n/**\n * Create combined test ID selector matching any configured attribute\n *\n * Generates CSS selector that matches test ID on any configured attribute.\n * Useful for exhaustive matching when test ID attribute might vary.\n *\n * @param testId - Test ID value\n * @param config - Locator factory configuration\n * @returns CSS selector matching any configured test ID attribute\n *\n * @example\n * ```ts\n * const selector = createCombinedTestIdSelector('submit', {\n *   testIdAttribute: 'data-testid',\n *   customTestIds: ['data-test', 'data-qa'],\n *   strategies: ['testid']\n * });\n * // Returns: '[data-testid=\"submit\"], [data-test=\"submit\"], [data-qa=\"submit\"]'\n * ```\n */\nexport function createCombinedTestIdSelector(\n  testId: string,\n  config: LocatorFactoryConfig\n): string {\n  const allAttributes = [\n    config.testIdAttribute,\n    ...(config.customTestIds || []),\n  ];\n\n  const selectors = allAttributes.map((attr) => `[${attr}=\"${testId}\"]`);\n\n  return selectors.join(', ');\n}\n","/**\n * ARIA and accessibility helper functions\n *\n * Provides utilities for working with ARIA attributes and\n * accessibility-focused element queries.\n *\n * @module locators/aria\n */\n\nimport type { Locator } from '@playwright/test';\nimport type { AriaRole } from './types.js';\n\n// =============================================================================\n// ARIA Attribute Helpers\n// =============================================================================\n\n/**\n * Get ARIA role from element\n *\n * @param locator - Element locator\n * @returns Promise resolving to ARIA role or null\n *\n * @example\n * ```ts\n * const button = page.locator('button').first();\n * const role = await getAriaRole(button);\n * console.log(role); // 'button'\n * ```\n */\nexport async function getAriaRole(locator: Locator): Promise<string | null> {\n  try {\n    return await locator.getAttribute('role');\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Get ARIA label from element\n *\n * Checks aria-label attribute first, then aria-labelledby reference.\n *\n * @param locator - Element locator\n * @returns Promise resolving to accessible name or null\n *\n * @example\n * ```ts\n * const input = page.getByRole('textbox').first();\n * const label = await getAriaLabel(input);\n * console.log(label); // 'Email address'\n * ```\n */\nexport async function getAriaLabel(locator: Locator): Promise<string | null> {\n  try {\n    // Check aria-label first\n    const ariaLabel = await locator.getAttribute('aria-label');\n    if (ariaLabel) {\n      return ariaLabel;\n    }\n\n    // Check aria-labelledby reference\n    const labelledBy = await locator.getAttribute('aria-labelledby');\n    if (labelledBy) {\n      // Note: Getting text from referenced element would require page context\n      // For now, return the reference ID\n      return labelledBy;\n    }\n\n    return null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Get ARIA description from element\n *\n * Checks aria-description attribute first, then aria-describedby reference.\n *\n * @param locator - Element locator\n * @returns Promise resolving to description or null\n *\n * @example\n * ```ts\n * const input = page.getByRole('textbox').first();\n * const description = await getAriaDescription(input);\n * console.log(description); // 'Enter your email address'\n * ```\n */\nexport async function getAriaDescription(\n  locator: Locator\n): Promise<string | null> {\n  try {\n    // Check aria-description first\n    const ariaDescription = await locator.getAttribute('aria-description');\n    if (ariaDescription) {\n      return ariaDescription;\n    }\n\n    // Check aria-describedby reference\n    const describedBy = await locator.getAttribute('aria-describedby');\n    if (describedBy) {\n      return describedBy;\n    }\n\n    return null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Check if element is disabled (via aria-disabled or disabled attribute)\n *\n * @param locator - Element locator\n * @returns Promise resolving to true if disabled\n *\n * @example\n * ```ts\n * const button = page.getByRole('button', { name: 'Submit' });\n * const disabled = await isAriaDisabled(button);\n * if (disabled) {\n *   console.log('Button is disabled');\n * }\n * ```\n */\nexport async function isAriaDisabled(locator: Locator): Promise<boolean> {\n  try {\n    // Check aria-disabled attribute\n    const ariaDisabled = await locator.getAttribute('aria-disabled');\n    if (ariaDisabled === 'true') {\n      return true;\n    }\n\n    // Check standard disabled attribute\n    const disabled = await locator.getAttribute('disabled');\n    return disabled !== null;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Check if element is expanded (via aria-expanded attribute)\n *\n * @param locator - Element locator\n * @returns Promise resolving to true if expanded, false if collapsed, null if not applicable\n *\n * @example\n * ```ts\n * const accordion = page.getByRole('button', { name: 'Show details' });\n * const expanded = await isAriaExpanded(accordion);\n * if (expanded) {\n *   console.log('Accordion is expanded');\n * }\n * ```\n */\nexport async function isAriaExpanded(\n  locator: Locator\n): Promise<boolean | null> {\n  try {\n    const ariaExpanded = await locator.getAttribute('aria-expanded');\n    if (ariaExpanded === 'true') {\n      return true;\n    }\n    if (ariaExpanded === 'false') {\n      return false;\n    }\n    return null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Check if element is checked (via aria-checked attribute)\n *\n * @param locator - Element locator\n * @returns Promise resolving to true if checked, false if unchecked, null if not applicable\n *\n * @example\n * ```ts\n * const checkbox = page.getByRole('checkbox', { name: 'Accept terms' });\n * const checked = await isAriaChecked(checkbox);\n * if (checked) {\n *   console.log('Checkbox is checked');\n * }\n * ```\n */\nexport async function isAriaChecked(\n  locator: Locator\n): Promise<boolean | null> {\n  try {\n    const ariaChecked = await locator.getAttribute('aria-checked');\n    if (ariaChecked === 'true') {\n      return true;\n    }\n    if (ariaChecked === 'false') {\n      return false;\n    }\n    return null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Check if element is hidden (via aria-hidden attribute)\n *\n * @param locator - Element locator\n * @returns Promise resolving to true if aria-hidden=\"true\"\n *\n * @example\n * ```ts\n * const icon = page.locator('.icon').first();\n * const hidden = await isAriaHidden(icon);\n * if (hidden) {\n *   console.log('Icon is hidden from screen readers');\n * }\n * ```\n */\nexport async function isAriaHidden(locator: Locator): Promise<boolean> {\n  try {\n    const ariaHidden = await locator.getAttribute('aria-hidden');\n    return ariaHidden === 'true';\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Get ARIA live region politeness setting\n *\n * @param locator - Element locator\n * @returns Promise resolving to 'polite', 'assertive', 'off', or null\n *\n * @example\n * ```ts\n * const notification = page.locator('.notification').first();\n * const live = await getAriaLive(notification);\n * console.log(live); // 'polite'\n * ```\n */\nexport async function getAriaLive(\n  locator: Locator\n): Promise<'polite' | 'assertive' | 'off' | null> {\n  try {\n    const ariaLive = await locator.getAttribute('aria-live');\n    if (\n      ariaLive === 'polite' ||\n      ariaLive === 'assertive' ||\n      ariaLive === 'off'\n    ) {\n      return ariaLive;\n    }\n    return null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Check if element is required (via aria-required attribute)\n *\n * @param locator - Element locator\n * @returns Promise resolving to true if required\n *\n * @example\n * ```ts\n * const input = page.getByLabel('Email');\n * const required = await isAriaRequired(input);\n * if (required) {\n *   console.log('Email is a required field');\n * }\n * ```\n */\nexport async function isAriaRequired(locator: Locator): Promise<boolean> {\n  try {\n    const ariaRequired = await locator.getAttribute('aria-required');\n    return ariaRequired === 'true';\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Check if element is invalid (via aria-invalid attribute)\n *\n * @param locator - Element locator\n * @returns Promise resolving to true if invalid\n *\n * @example\n * ```ts\n * const input = page.getByLabel('Email');\n * const invalid = await isAriaInvalid(input);\n * if (invalid) {\n *   console.log('Email has validation errors');\n * }\n * ```\n */\nexport async function isAriaInvalid(locator: Locator): Promise<boolean> {\n  try {\n    const ariaInvalid = await locator.getAttribute('aria-invalid');\n    return ariaInvalid === 'true';\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Get accessible name computed from element\n *\n * Uses Playwright's textContent as a fallback for computing accessible name.\n * Note: This is a simplified version; full accessible name computation\n * requires browser's accessibility tree.\n *\n * @param locator - Element locator\n * @returns Promise resolving to accessible name or null\n *\n * @example\n * ```ts\n * const button = page.getByRole('button').first();\n * const name = await getAccessibleName(button);\n * console.log(name); // 'Submit form'\n * ```\n */\nexport async function getAccessibleName(\n  locator: Locator\n): Promise<string | null> {\n  try {\n    // Check aria-label first\n    const ariaLabel = await getAriaLabel(locator);\n    if (ariaLabel) {\n      return ariaLabel;\n    }\n\n    // Fall back to text content\n    const textContent = await locator.textContent();\n    return textContent?.trim() || null;\n  } catch {\n    return null;\n  }\n}\n\n// =============================================================================\n// Validation Helpers\n// =============================================================================\n\n/**\n * Validate if role is a standard ARIA role\n *\n * @param role - Role string to validate\n * @returns True if role is a valid ARIA role\n *\n * @example\n * ```ts\n * const isValid = isValidAriaRole('button'); // true\n * const isInvalid = isValidAriaRole('invalid-role'); // false\n * ```\n */\nexport function isValidAriaRole(role: string): role is AriaRole {\n  const validRoles: AriaRole[] = [\n    // Document structure roles\n    'article',\n    'banner',\n    'complementary',\n    'contentinfo',\n    'form',\n    'main',\n    'navigation',\n    'region',\n    'search',\n    // Landmark roles\n    'application',\n    'directory',\n    'document',\n    'feed',\n    'figure',\n    'img',\n    'list',\n    'listitem',\n    'math',\n    'note',\n    'presentation',\n    'table',\n    'term',\n    // Widget roles\n    'alert',\n    'alertdialog',\n    'button',\n    'checkbox',\n    'dialog',\n    'gridcell',\n    'link',\n    'log',\n    'marquee',\n    'menuitem',\n    'menuitemcheckbox',\n    'menuitemradio',\n    'option',\n    'progressbar',\n    'radio',\n    'scrollbar',\n    'searchbox',\n    'slider',\n    'spinbutton',\n    'status',\n    'switch',\n    'tab',\n    'tabpanel',\n    'textbox',\n    'timer',\n    'tooltip',\n    'tree',\n    'treeitem',\n    // Composite widget roles\n    'combobox',\n    'grid',\n    'listbox',\n    'menu',\n    'menubar',\n    'radiogroup',\n    'tablist',\n    'toolbar',\n    'treegrid',\n    // Heading roles\n    'heading',\n    // Row and cell roles\n    'row',\n    'rowheader',\n    'columnheader',\n    'cell',\n  ];\n\n  return validRoles.includes(role as AriaRole);\n}\n","/**\n * Locator factory with strategy chaining and scoped locators\n *\n * Implements:\n * - FR-018: Strategy chain resolution (first match wins)\n * - FR-020: Scoped locators for forms, tables, sections\n *\n * @module locators/factory\n */\n\nimport type { Locator, Page } from '@playwright/test';\nimport type {\n  ByRoleOptions,\n  FormLocators,\n  LocatorFactoryConfig,\n  LocatorStrategy,\n  SectionLocators,\n  TableLocators,\n} from './types.js';\nimport { byTestId } from './testid.js';\nimport { byCss, byLabel, byPlaceholder, byRole, byText } from './strategies.js';\n\n// =============================================================================\n// Strategy Chain Resolution (FR-018)\n// =============================================================================\n\n/**\n * Locate element using configured strategy chain\n *\n * Tries strategies in configured order until a match is found.\n * Returns the first locator that matches an element.\n *\n * @param page - Playwright Page object\n * @param selector - Selector value (interpretation depends on strategy)\n * @param config - Locator factory configuration\n * @param options - Strategy-specific options\n * @returns Locator for the element\n *\n * @example\n * ```ts\n * const config = {\n *   strategies: ['role', 'testid', 'css'],\n *   testIdAttribute: 'data-testid'\n * };\n *\n * // Tries: role=\"button\", [data-testid=\"submit\"], CSS selector\n * const button = locate(page, 'submit', config);\n * ```\n */\nexport function locate(\n  page: Page,\n  selector: string,\n  config: LocatorFactoryConfig,\n  options?: ByRoleOptions | { exact?: boolean }\n): Locator {\n  // Try each strategy in configured order\n  for (const strategy of config.strategies) {\n    try {\n      switch (strategy) {\n        case 'role':\n          return byRole(page, selector, options);\n        case 'label':\n          return byLabel(page, selector, options);\n        case 'placeholder':\n          return byPlaceholder(page, selector, options);\n        case 'testid':\n          return byTestId(page, selector, config);\n        case 'text':\n          return byText(page, selector, options);\n        case 'css':\n          return byCss(page, selector);\n      }\n    } catch {\n      // Strategy failed, try next one\n      continue;\n    }\n  }\n\n  // Fallback to CSS if all strategies fail\n  return byCss(page, selector);\n}\n\n// =============================================================================\n// Form Scoped Locators (FR-020)\n// =============================================================================\n\n/**\n * Create form-scoped locators within a form element\n *\n * Provides convenient methods for locating form fields, buttons,\n * and error messages within a specific form context.\n *\n * @param formLocator - Locator for the form element\n * @param config - Locator factory configuration\n * @returns FormLocators interface with scoped methods\n *\n * @example\n * ```ts\n * const loginForm = page.locator('form#login');\n * const form = withinForm(loginForm, config);\n *\n * await form.field('username').fill('user@example.com');\n * await form.fieldByLabel('Password').fill('secret');\n * await form.submit().click();\n * ```\n */\nexport function withinForm(\n  formLocator: Locator,\n  config: LocatorFactoryConfig\n): FormLocators {\n  return {\n    field(name: string): Locator {\n      // Try by name attribute first\n      const byName = formLocator.locator(`[name=\"${name}\"]`);\n      if (byName) {\n        return byName;\n      }\n\n      // Fallback to test ID\n      return byTestId(\n        formLocator.page(),\n        name,\n        config\n      ).and(formLocator.locator('input, select, textarea'));\n    },\n\n    fieldByLabel(label: string): Locator {\n      // Use Playwright's getByLabel within form scope\n      return formLocator.getByLabel(label);\n    },\n\n    submit(): Locator {\n      // Try button[type=\"submit\"] first, fallback to input[type=\"submit\"]\n      return formLocator.locator(\n        'button[type=\"submit\"], input[type=\"submit\"]'\n      );\n    },\n\n    cancel(): Locator {\n      // Try role-based locator for cancel button\n      return formLocator.getByRole('button', { name: /cancel|close/i });\n    },\n\n    error(field: string): Locator {\n      // Common error message patterns\n      return formLocator.locator(\n        `[data-field=\"${field}\"][role=\"alert\"], ` +\n          `[data-field=\"${field}\"].error, ` +\n          `#${field}-error, ` +\n          `.${field}-error`\n      );\n    },\n  };\n}\n\n// =============================================================================\n// Table Scoped Locators (FR-020)\n// =============================================================================\n\n/**\n * Create table-scoped locators within a table element\n *\n * Provides methods for locating rows, cells, and headers\n * within a specific table context.\n *\n * @param tableLocator - Locator for the table element\n * @returns TableLocators interface with scoped methods\n *\n * @example\n * ```ts\n * const dataTable = page.locator('table#users');\n * const table = withinTable(dataTable);\n *\n * const firstRow = table.row(0);\n * const emailCell = table.cell(0, 'Email');\n * const matchingRow = table.rowContaining('john@example.com');\n * ```\n */\nexport function withinTable(tableLocator: Locator): TableLocators {\n  return {\n    row(index: number): Locator {\n      // Select row by index (0-based)\n      return tableLocator.locator('tbody tr').nth(index);\n    },\n\n    rowContaining(text: string): Locator {\n      // Find first row containing text\n      return tableLocator.locator('tbody tr').filter({ hasText: text });\n    },\n\n    cell(row: number, column: number | string): Locator {\n      const rowLocator = tableLocator.locator('tbody tr').nth(row);\n\n      if (typeof column === 'number') {\n        // Select cell by column index (0-based)\n        return rowLocator.locator('td').nth(column);\n      } else {\n        // Select cell by column name using header text\n        // Note: This is a simplified implementation\n        // Ideally, we would compute the column index dynamically\n        // For now, we use a locator that finds the cell with the matching header\n        return rowLocator\n          .locator('td')\n          .filter({\n            has: tableLocator.locator(`thead th:has-text(\"${column}\")`),\n          })\n          .first();\n      }\n    },\n\n    header(column: number | string): Locator {\n      if (typeof column === 'number') {\n        // Select header by column index (0-based)\n        return tableLocator.locator('thead th').nth(column);\n      } else {\n        // Select header by text content\n        return tableLocator.locator('thead th').filter({ hasText: column });\n      }\n    },\n  };\n}\n\n// =============================================================================\n// Section Scoped Locators (FR-020)\n// =============================================================================\n\n/**\n * Create section-scoped locators within a page section\n *\n * Provides a scoped context for locating elements within\n * a specific section, region, or container.\n *\n * @param sectionLocator - Locator for the section element\n * @param config - Locator factory configuration\n * @returns SectionLocators interface with scoped methods\n *\n * @example\n * ```ts\n * const sidebar = page.locator('aside#sidebar');\n * const section = withinSection(sidebar, config);\n *\n * const navLink = section.byRole('link', { name: 'Dashboard' });\n * const searchBox = section.byTestId('sidebar-search');\n * ```\n */\nexport function withinSection(\n  sectionLocator: Locator,\n  config: LocatorFactoryConfig\n): SectionLocators {\n  return {\n    locator(selector: string): Locator {\n      return sectionLocator.locator(selector);\n    },\n\n    byTestId(testId: string): Locator {\n      // Use configured test ID attributes within section scope\n      const selector = `[${config.testIdAttribute}=\"${testId}\"]`;\n\n      // Scope to within section\n      return sectionLocator.locator(selector);\n    },\n\n    byRole(role: string, options?: ByRoleOptions): Locator {\n      return sectionLocator.getByRole(\n        role as Parameters<Locator['getByRole']>[0],\n        options\n      );\n    },\n  };\n}\n\n// =============================================================================\n// Utility Functions\n// =============================================================================\n\n/**\n * Create default locator factory configuration\n *\n * Provides sensible defaults for strategy order and test ID attributes.\n *\n * @returns Default configuration\n *\n * @example\n * ```ts\n * const config = createDefaultConfig();\n * // {\n * //   strategies: ['role', 'label', 'placeholder', 'testid', 'text', 'css'],\n * //   testIdAttribute: 'data-testid'\n * // }\n * ```\n */\nexport function createDefaultConfig(): LocatorFactoryConfig {\n  return {\n    strategies: ['role', 'label', 'placeholder', 'testid', 'text', 'css'],\n    testIdAttribute: 'data-testid',\n    customTestIds: [],\n  };\n}\n\n/**\n * Create config from SelectorsConfig (from artk.config.yml)\n *\n * Converts SelectorsConfig from ARTK config into LocatorFactoryConfig.\n *\n * @param selectorsConfig - SelectorsConfig from ARTK config\n * @returns LocatorFactoryConfig for use with locator functions\n *\n * @example\n * ```ts\n * import { loadConfig } from '@artk/core/config';\n *\n * const artkConfig = await loadConfig();\n * const locatorConfig = createConfigFromSelectors(artkConfig.selectors);\n * ```\n */\nexport function createConfigFromSelectors(selectorsConfig: {\n  testIdAttribute: string;\n  strategy: readonly LocatorStrategy[];\n  customTestIds?: readonly string[];\n}): LocatorFactoryConfig {\n  return {\n    strategies: selectorsConfig.strategy,\n    testIdAttribute: selectorsConfig.testIdAttribute,\n    customTestIds: selectorsConfig.customTestIds,\n  };\n}\n"]}