{
  // ===========================================================================
  // ARTK VS Code Settings
  // Generated by ARTK bootstrap - these settings enable Copilot features
  // required for ARTK prompts to work correctly.
  //
  // Tool auto-approve settings allow Copilot to execute actions without
  // prompting for confirmation on each action - essential for autonomous
  // test generation workflows.
  //
  // Last updated: 2026-01-30
  // Reference: https://code.visualstudio.com/docs/copilot/reference/copilot-settings
  // ===========================================================================

  // ===========================================================================
  // COPILOT AGENT MODE SETTINGS
  // ===========================================================================

  // Enable agent mode (requires VS Code 1.99+)
  "chat.agent.enabled": true,

  // Auto-fix issues in generated code
  "github.copilot.chat.agent.autoFix": true,

  // Run workspace tasks (build, test) automatically
  "github.copilot.chat.agent.runTasks": true,

  // ===========================================================================
  // TOOL AUTO-APPROVE SETTINGS
  // ===========================================================================
  //
  // These settings control which tools Copilot can use without confirmation.
  // ARTK requires these for autonomous test generation workflows.
  //
  // Built-in tools reference:
  //   #changes, #codebase, #createAndRunTask, #createDirectory, #createFile,
  //   #edit, #editFiles, #editNotebook, #extensions, #fetch, #fileSearch,
  //   #getNotebookSummary, #getProjectSetupInfo, #getTaskOutput,
  //   #getTerminalOutput, #githubRepo, #installExtension, #listDirectory,
  //   #new, #newJupyterNotebook, #newWorkspace, #openSimpleBrowser, #problems,
  //   #readFile, #readNotebookCellOutput, #runCell, #runCommands,
  //   #runInTerminal, #runNotebooks, #runTask, #runTasks, #runSubagent,
  //   #runTests, #runVscodeCommand, #search, #searchResults, #selection,
  //   #terminalLastCommand, #terminalSelection, #testFailure, #textSearch,
  //   #todos, #usages, #VSCodeAPI

  // Configure which tools are eligible for auto-approval
  // Empty array = all tools can be auto-approved when global setting is true
  "chat.tools.eligibleForAutoApproval": [],

  // ===========================================================================
  // TERMINAL COMMAND AUTO-APPROVE SETTINGS
  // ===========================================================================
  //
  // Pattern-based control over which terminal commands are auto-approved.
  // Uses regex patterns wrapped in /.../ for flexible matching.
  //
  // SECURITY: Dangerous commands are explicitly denied (false).
  // PRODUCTIVITY: Common safe commands are allowed (true).

  // Enable terminal auto-approve feature
  "chat.tools.terminal.enableAutoApprove": true,

  // Terminal command allowlist/denylist with regex patterns
  "chat.tools.terminal.autoApprove": {
    // --- SAFE: Git read-only operations ---
    "/^git\\s+(status|diff|log|show|branch|remote|fetch|stash\\s+list)\\b/": true,

    // --- SAFE: Package manager read/test operations ---
    "/^npm\\s+(test|run\\s+(test|lint|build|check)|list|outdated|audit)\\b/": true,
    "/^pnpm\\s+(test|lint|build|run\\s+(test|lint|build))\\b/": true,
    "/^yarn\\s+(test|lint|build|run\\s+(test|lint|build))\\b/": true,

    // --- SAFE: npx with SPECIFIC allowed packages only ---
    // (blanket npx approval is dangerous - could run malicious packages)
    "/^npx\\s+(playwright|artk-autogen|tsc|tsup|vitest|jest|prettier|eslint)\\b/": true,

    // --- SAFE: Playwright operations (ARTK-specific) ---
    "/^npx\\s+playwright\\s+(test|show-report|install|--version)\\b/": true,
    "/^npx\\s+artk-autogen\\s+/": true,
    "/^node\\s+.*artk/": true,

    // --- SAFE: Directory listing/navigation ---
    "/^(ls|dir|pwd|cd|cat|head|tail|less|more|find|grep|wc)\\b/": true,

    // --- BLOCKED: Destructive file operations ---
    "rm": false,
    "rmdir": false,
    "del": false,
    "/^Remove-Item\\b/i": false,
    "/^rm\\s+-rf/": false,

    // --- BLOCKED: Process/system operations ---
    "kill": false,
    "pkill": false,
    "killall": false,

    // --- ALLOWED: Network operations ---
    "/^(curl|wget)\\b/": true,

    // --- ALLOWED: Permission/system changes ---
    "/^(chmod|sudo)\\b/": true,

    // --- BLOCKED: Dangerous execution ---
    "chown": false,
    "eval": false,
    "exec": false,

    // --- ALLOWED: Git operations (including force push, hard reset) ---
    "/^git\\s+(push|reset|clean|rebase)\\b/": true
  },

  // Block file writes outside workspace
  "chat.tools.terminal.blockDetectedFileWrites": "outsideWorkspace",

  // ===========================================================================
  // URL FETCH AUTO-APPROVE (for #fetch tool)
  // ===========================================================================

  // Auto-approve fetching from trusted documentation sites
  "chat.tools.urls.autoApprove": [
    "https://playwright.dev/*",
    "https://code.visualstudio.com/*",
    "https://docs.github.com/*",
    "https://nodejs.org/*",
    "https://www.npmjs.com/*",
    "https://developer.mozilla.org/*"
  ],

  // ===========================================================================
  // LEGACY COPILOT SETTINGS (pre-agent mode compatibility)
  // ===========================================================================

  // GitHub Copilot Chat - Terminal Access (REQUIRED for /artk.journey-implement)
  // Both settings are needed for different Copilot versions
  "github.copilot.chat.terminalAccess": "enabled",
  "github.copilot.chat.terminalAccess.enabled": true,

  // GitHub Copilot Chat - Agent Terminal Execution
  "github.copilot.chat.agent.runInTerminal": true,

  // GitHub Copilot Chat - Code Generation
  "github.copilot.chat.codeGeneration.useInstructionFiles": true,

  // Locale override for consistent behavior
  "github.copilot.chat.localeOverride": "en",

  // ===========================================================================
  // EDITOR SETTINGS FOR GENERATED TEST FILES
  // ===========================================================================

  "editor.formatOnSave": true,
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true
  },

  // ===========================================================================
  // PLAYWRIGHT TEST EXPLORER INTEGRATION
  // ===========================================================================

  "playwright.reuseBrowser": true,
  "playwright.showTrace": true,

  // ===========================================================================
  // FILE ASSOCIATIONS AND SEARCH EXCLUSIONS
  // ===========================================================================

  "files.associations": {
    "*.prompt.md": "markdown",
    "artk.config.yml": "yaml"
  },

  "search.exclude": {
    "**/vendor/artk-core/**": true,
    "**/vendor/artk-core-autogen/**": true,
    "**/node_modules/**": true,
    "**/.auth-states/**": true,
    "**/test-results/**": true,
    "**/playwright-report/**": true
  }
}
