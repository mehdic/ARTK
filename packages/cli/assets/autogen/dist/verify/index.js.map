{"version":3,"sources":["../../src/verify/runner.ts","../../src/verify/parser.ts","../../src/verify/classifier.ts","../../src/verify/stability.ts","../../src/verify/evidence.ts","../../src/verify/summary.ts"],"names":["existsSync","join","mkdirSync","writeFileSync","readFileSync","dirname"],"mappings":"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","file":"index.js","sourcesContent":["/**\n * Playwright CLI Runner Wrapper - Execute tests and capture results\n * @see T050 - Implement Playwright CLI runner wrapper\n */\nimport { execSync, spawn, type ChildProcess } from 'node:child_process';\nimport { existsSync, mkdirSync, writeFileSync } from 'node:fs';\nimport { join, dirname } from 'node:path';\nimport { tmpdir } from 'node:os';\n\n/**\n * Options for running Playwright tests\n */\nexport interface RunnerOptions {\n  /** Working directory */\n  cwd?: string;\n  /** Test file or pattern to run */\n  testFile?: string;\n  /** Specific test to run (grep pattern) */\n  grep?: string;\n  /** Project to run (from playwright.config.ts) */\n  project?: string;\n  /** Number of workers */\n  workers?: number;\n  /** Retries on failure */\n  retries?: number;\n  /** Repeat each test N times (for flakiness check) */\n  repeatEach?: number;\n  /** Fail on flaky tests */\n  failOnFlaky?: boolean;\n  /** Timeout per test in ms */\n  timeout?: number;\n  /** Reporter to use */\n  reporter?: string;\n  /** Output directory for results */\n  outputDir?: string;\n  /** Environment variables */\n  env?: Record<string, string>;\n  /** Headed mode */\n  headed?: boolean;\n  /** Enable debug mode */\n  debug?: boolean;\n  /** Update snapshots */\n  updateSnapshots?: boolean;\n}\n\n/**\n * Result of running Playwright tests\n */\nexport interface RunnerResult {\n  /** Whether the run succeeded (all tests passed) */\n  success: boolean;\n  /** Exit code from Playwright */\n  exitCode: number;\n  /** Stdout output */\n  stdout: string;\n  /** Stderr output */\n  stderr: string;\n  /** Path to JSON report (if generated) */\n  reportPath?: string;\n  /** Duration in milliseconds */\n  duration: number;\n  /** Command that was executed */\n  command: string;\n}\n\n/**\n * Check if Playwright is available\n */\nexport function isPlaywrightAvailable(cwd?: string): boolean {\n  try {\n    execSync('npx playwright --version', {\n      cwd,\n      stdio: 'pipe',\n      encoding: 'utf-8',\n    });\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Get Playwright version\n */\nexport function getPlaywrightVersion(cwd?: string): string | null {\n  try {\n    const result = execSync('npx playwright --version', {\n      cwd,\n      stdio: 'pipe',\n      encoding: 'utf-8',\n    });\n    return result.trim();\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Build Playwright command arguments\n */\nexport function buildPlaywrightArgs(options: RunnerOptions): string[] {\n  const args = ['test'];\n\n  if (options.testFile) {\n    args.push(options.testFile);\n  }\n\n  if (options.grep) {\n    args.push('--grep', options.grep);\n  }\n\n  if (options.project) {\n    args.push('--project', options.project);\n  }\n\n  if (options.workers !== undefined) {\n    args.push('--workers', String(options.workers));\n  }\n\n  if (options.retries !== undefined) {\n    args.push('--retries', String(options.retries));\n  }\n\n  if (options.repeatEach !== undefined) {\n    args.push('--repeat-each', String(options.repeatEach));\n  }\n\n  if (options.failOnFlaky) {\n    args.push('--fail-on-flaky-tests');\n  }\n\n  if (options.timeout !== undefined) {\n    args.push('--timeout', String(options.timeout));\n  }\n\n  if (options.reporter) {\n    args.push('--reporter', options.reporter);\n  }\n\n  if (options.outputDir) {\n    args.push('--output', options.outputDir);\n  }\n\n  if (options.headed) {\n    args.push('--headed');\n  }\n\n  if (options.debug) {\n    args.push('--debug');\n  }\n\n  if (options.updateSnapshots) {\n    args.push('--update-snapshots');\n  }\n\n  return args;\n}\n\n/**\n * Run Playwright tests synchronously\n */\nexport function runPlaywrightSync(options: RunnerOptions = {}): RunnerResult {\n  const { cwd = process.cwd(), env = {} } = options;\n\n  // Ensure Playwright is available\n  if (!isPlaywrightAvailable(cwd)) {\n    return {\n      success: false,\n      exitCode: 1,\n      stdout: '',\n      stderr: 'Playwright is not installed',\n      duration: 0,\n      command: 'npx playwright test',\n    };\n  }\n\n  // Create temp dir for JSON report\n  const tempDir = join(tmpdir(), `autogen-verify-${Date.now()}`);\n  mkdirSync(tempDir, { recursive: true });\n  const reportPath = join(tempDir, 'results.json');\n\n  // Build command\n  const args = buildPlaywrightArgs({\n    ...options,\n    reporter: `json,line`,\n  });\n\n  const command = `npx playwright ${args.join(' ')}`;\n  const startTime = Date.now();\n\n  try {\n    const result = execSync(command, {\n      cwd,\n      stdio: 'pipe',\n      encoding: 'utf-8',\n      env: {\n        ...process.env,\n        ...env,\n        PLAYWRIGHT_JSON_OUTPUT_NAME: reportPath,\n      },\n      timeout: options.timeout ? options.timeout * 10 : 600000, // 10x test timeout or 10 min\n    });\n\n    return {\n      success: true,\n      exitCode: 0,\n      stdout: result,\n      stderr: '',\n      reportPath: existsSync(reportPath) ? reportPath : undefined,\n      duration: Date.now() - startTime,\n      command,\n    };\n  } catch (error: unknown) {\n    const execError = error as {\n      status?: number;\n      stdout?: string;\n      stderr?: string;\n    };\n\n    return {\n      success: false,\n      exitCode: execError.status || 1,\n      stdout: execError.stdout || '',\n      stderr: execError.stderr || String(error),\n      reportPath: existsSync(reportPath) ? reportPath : undefined,\n      duration: Date.now() - startTime,\n      command,\n    };\n  }\n}\n\n/**\n * Run Playwright tests asynchronously\n */\nexport function runPlaywrightAsync(\n  options: RunnerOptions = {}\n): Promise<RunnerResult> {\n  return new Promise((resolve) => {\n    const { cwd = process.cwd(), env = {} } = options;\n\n    // Create temp dir for JSON report\n    const tempDir = join(tmpdir(), `autogen-verify-${Date.now()}`);\n    mkdirSync(tempDir, { recursive: true });\n    const reportPath = join(tempDir, 'results.json');\n\n    // Build command\n    const args = buildPlaywrightArgs({\n      ...options,\n      reporter: 'json,line',\n    });\n\n    const command = `npx playwright ${args.join(' ')}`;\n    const startTime = Date.now();\n\n    let stdout = '';\n    let stderr = '';\n\n    const child: ChildProcess = spawn('npx', ['playwright', ...args], {\n      cwd,\n      env: {\n        ...process.env,\n        ...env,\n        PLAYWRIGHT_JSON_OUTPUT_NAME: reportPath,\n      },\n      shell: true,\n    });\n\n    child.stdout?.on('data', (data: Buffer) => {\n      stdout += data.toString();\n    });\n\n    child.stderr?.on('data', (data: Buffer) => {\n      stderr += data.toString();\n    });\n\n    child.on('close', (code: number | null) => {\n      resolve({\n        success: code === 0,\n        exitCode: code || 1,\n        stdout,\n        stderr,\n        reportPath: existsSync(reportPath) ? reportPath : undefined,\n        duration: Date.now() - startTime,\n        command,\n      });\n    });\n\n    child.on('error', (error: Error) => {\n      resolve({\n        success: false,\n        exitCode: 1,\n        stdout,\n        stderr: error.message,\n        duration: Date.now() - startTime,\n        command,\n      });\n    });\n  });\n}\n\n/**\n * Run a single test file\n */\nexport function runTestFile(\n  testFilePath: string,\n  options: Omit<RunnerOptions, 'testFile'> = {}\n): RunnerResult {\n  if (!existsSync(testFilePath)) {\n    return {\n      success: false,\n      exitCode: 1,\n      stdout: '',\n      stderr: `Test file not found: ${testFilePath}`,\n      duration: 0,\n      command: '',\n    };\n  }\n\n  return runPlaywrightSync({\n    ...options,\n    testFile: testFilePath,\n    cwd: options.cwd || dirname(testFilePath),\n  });\n}\n\n/**\n * Run tests by journey ID tag\n */\nexport function runJourneyTests(\n  journeyId: string,\n  options: Omit<RunnerOptions, 'grep'> = {}\n): RunnerResult {\n  return runPlaywrightSync({\n    ...options,\n    grep: `@${journeyId}`,\n  });\n}\n\n/**\n * Check if a test file compiles (syntax check)\n */\nexport function checkTestSyntax(testFilePath: string, cwd?: string): boolean {\n  if (!existsSync(testFilePath)) {\n    return false;\n  }\n\n  try {\n    execSync(`npx tsc --noEmit ${testFilePath}`, {\n      cwd: cwd || dirname(testFilePath),\n      stdio: 'pipe',\n    });\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Write test file and run it\n */\nexport function writeAndRunTest(\n  code: string,\n  filename: string,\n  options: RunnerOptions = {}\n): RunnerResult {\n  const tempDir = join(tmpdir(), `autogen-test-${Date.now()}`);\n  mkdirSync(tempDir, { recursive: true });\n\n  const testPath = join(tempDir, filename);\n  writeFileSync(testPath, code, 'utf-8');\n\n  return runTestFile(testPath, options);\n}\n\n/**\n * Get test count from Playwright\n */\nexport function getTestCount(testFile: string, cwd?: string): number {\n  try {\n    const result = execSync(`npx playwright test --list ${testFile}`, {\n      cwd,\n      stdio: 'pipe',\n      encoding: 'utf-8',\n    });\n\n    // Parse \"Listing X tests\" output\n    const match = result.match(/Listing (\\d+) tests?/);\n    return match ? parseInt(match[1]!, 10) : 0;\n  } catch {\n    return 0;\n  }\n}\n","/**\n * Playwright JSON Report Parser - Parse test results from JSON reporter\n * @see T051 - Implement JSON report parser for test results\n */\nimport { readFileSync, existsSync } from 'node:fs';\n\n/**\n * Test status from Playwright\n */\nexport type TestStatus = 'passed' | 'failed' | 'timedOut' | 'skipped' | 'interrupted';\n\n/**\n * Error attachment from Playwright\n */\nexport interface ErrorAttachment {\n  name: string;\n  contentType: string;\n  path?: string;\n  body?: string;\n}\n\n/**\n * Test error details\n */\nexport interface TestError {\n  message: string;\n  stack?: string;\n  location?: {\n    file: string;\n    line: number;\n    column: number;\n  };\n  snippet?: string;\n}\n\n/**\n * Test step from Playwright report\n */\nexport interface ReportStep {\n  title: string;\n  category: string;\n  duration: number;\n  error?: TestError;\n  steps?: ReportStep[];\n}\n\n/**\n * Single test result from Playwright report\n */\nexport interface TestResult {\n  /** Test title */\n  title: string;\n  /** Full title path */\n  titlePath: string[];\n  /** Test location */\n  location: {\n    file: string;\n    line: number;\n    column: number;\n  };\n  /** Test status */\n  status: TestStatus;\n  /** Test duration in ms */\n  duration: number;\n  /** Retry number (0 = first attempt) */\n  retry: number;\n  /** Errors if failed */\n  errors: TestError[];\n  /** Test steps */\n  steps: ReportStep[];\n  /** Attachments */\n  attachments: ErrorAttachment[];\n  /** Annotations */\n  annotations: Array<{ type: string; description?: string }>;\n  /** Tags */\n  tags: string[];\n}\n\n/**\n * Suite from Playwright report\n */\nexport interface TestSuite {\n  title: string;\n  file: string;\n  line: number;\n  column: number;\n  specs: TestSpec[];\n  suites: TestSuite[];\n}\n\n/**\n * Test spec from Playwright report\n */\nexport interface TestSpec {\n  title: string;\n  ok: boolean;\n  tags: string[];\n  tests: Array<{\n    expectedStatus: TestStatus;\n    status: TestStatus;\n    projectName: string;\n    results: TestResult[];\n  }>;\n}\n\n/**\n * Full Playwright JSON report\n */\nexport interface PlaywrightReport {\n  config: {\n    rootDir: string;\n    projects: Array<{\n      name: string;\n      testDir: string;\n    }>;\n  };\n  suites: TestSuite[];\n  errors: TestError[];\n  stats: {\n    startTime: string;\n    duration: number;\n    expected: number;\n    unexpected: number;\n    flaky: number;\n    skipped: number;\n  };\n}\n\n/**\n * Parsed test summary\n */\nexport interface ParsedSummary {\n  total: number;\n  passed: number;\n  failed: number;\n  skipped: number;\n  flaky: number;\n  duration: number;\n  startTime: Date;\n  files: string[];\n  failedTests: TestResult[];\n  flakyTests: TestResult[];\n}\n\n/**\n * Parse Playwright JSON report from file\n */\nexport function parseReportFile(filePath: string): PlaywrightReport | null {\n  if (!existsSync(filePath)) {\n    return null;\n  }\n\n  try {\n    const content = readFileSync(filePath, 'utf-8');\n    return JSON.parse(content) as PlaywrightReport;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Parse Playwright JSON report from string\n */\nexport function parseReportContent(content: string): PlaywrightReport | null {\n  try {\n    return JSON.parse(content) as PlaywrightReport;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Extract all test results from report\n */\nexport function extractTestResults(report: PlaywrightReport): TestResult[] {\n  const results: TestResult[] = [];\n\n  function extractFromSuite(suite: TestSuite, titlePath: string[] = []): void {\n    const currentPath = [...titlePath, suite.title].filter(Boolean);\n\n    for (const spec of suite.specs) {\n      for (const test of spec.tests) {\n        for (const result of test.results) {\n          results.push({\n            ...result,\n            titlePath: [...currentPath, spec.title],\n          });\n        }\n      }\n    }\n\n    for (const childSuite of suite.suites) {\n      extractFromSuite(childSuite, currentPath);\n    }\n  }\n\n  for (const suite of report.suites) {\n    extractFromSuite(suite);\n  }\n\n  return results;\n}\n\n/**\n * Get summary from Playwright report\n */\nexport function getSummary(report: PlaywrightReport): ParsedSummary {\n  const allResults = extractTestResults(report);\n\n  const failedTests = allResults.filter((r) => r.status === 'failed');\n  const passedTests = allResults.filter((r) => r.status === 'passed');\n  const skippedTests = allResults.filter((r) => r.status === 'skipped');\n\n  // Flaky tests: passed on retry\n  const flakyTests = allResults.filter((r) => r.status === 'passed' && r.retry > 0);\n\n  // Extract unique file paths\n  const files = [...new Set(allResults.map((r) => r.location.file))];\n\n  return {\n    total: allResults.length,\n    passed: passedTests.length,\n    failed: failedTests.length,\n    skipped: skippedTests.length,\n    flaky: flakyTests.length,\n    duration: report.stats.duration,\n    startTime: new Date(report.stats.startTime),\n    files,\n    failedTests,\n    flakyTests,\n  };\n}\n\n/**\n * Get failed test details\n */\nexport function getFailedTests(report: PlaywrightReport): TestResult[] {\n  return extractTestResults(report).filter((r) => r.status === 'failed');\n}\n\n/**\n * Get flaky test details\n */\nexport function getFlakyTests(report: PlaywrightReport): TestResult[] {\n  return extractTestResults(report).filter(\n    (r) => r.status === 'passed' && r.retry > 0\n  );\n}\n\n/**\n * Get test by title pattern\n */\nexport function findTestsByTitle(\n  report: PlaywrightReport,\n  pattern: string | RegExp\n): TestResult[] {\n  const allResults = extractTestResults(report);\n  const regex = typeof pattern === 'string' ? new RegExp(pattern, 'i') : pattern;\n\n  return allResults.filter((r) => regex.test(r.title));\n}\n\n/**\n * Get tests by tag\n */\nexport function findTestsByTag(\n  report: PlaywrightReport,\n  tag: string\n): TestResult[] {\n  const allResults = extractTestResults(report);\n  return allResults.filter((r) => r.tags.includes(tag));\n}\n\n/**\n * Extract error messages from test result\n */\nexport function extractErrorMessages(result: TestResult): string[] {\n  return result.errors.map((e) => e.message);\n}\n\n/**\n * Extract error stack from test result\n */\nexport function extractErrorStacks(result: TestResult): string[] {\n  return result.errors\n    .map((e) => e.stack)\n    .filter((s): s is string => s !== undefined);\n}\n\n/**\n * Get step that failed\n */\nexport function getFailedStep(result: TestResult): ReportStep | null {\n  function findFailedStep(steps: ReportStep[]): ReportStep | null {\n    for (const step of steps) {\n      if (step.error) {\n        return step;\n      }\n      if (step.steps) {\n        const found = findFailedStep(step.steps);\n        if (found) return found;\n      }\n    }\n    return null;\n  }\n\n  return findFailedStep(result.steps);\n}\n\n/**\n * Check if report indicates overall success\n */\nexport function isReportSuccessful(report: PlaywrightReport): boolean {\n  return report.stats.unexpected === 0;\n}\n\n/**\n * Check if report has flaky tests\n */\nexport function reportHasFlaky(report: PlaywrightReport): boolean {\n  return report.stats.flaky > 0;\n}\n\n/**\n * Format test result for display\n */\nexport function formatTestResult(result: TestResult): string {\n  const status = result.status.toUpperCase();\n  const title = result.titlePath.join(' > ');\n  const duration = `${result.duration}ms`;\n  const retry = result.retry > 0 ? ` (retry ${result.retry})` : '';\n\n  let output = `[${status}] ${title} (${duration})${retry}`;\n\n  if (result.errors.length > 0) {\n    output += '\\n  Errors:';\n    for (const error of result.errors) {\n      output += `\\n    - ${error.message}`;\n    }\n  }\n\n  return output;\n}\n\n/**\n * Generate markdown summary\n */\nexport function generateMarkdownSummary(report: PlaywrightReport): string {\n  const summary = getSummary(report);\n  const lines: string[] = [];\n\n  lines.push('# Test Results Summary');\n  lines.push('');\n  lines.push(`**Status**: ${summary.failed === 0 ? ' PASSED' : ' FAILED'}`);\n  lines.push(`**Duration**: ${Math.round(summary.duration / 1000)}s`);\n  lines.push('');\n  lines.push('## Stats');\n  lines.push('');\n  lines.push(`- Total: ${summary.total}`);\n  lines.push(`- Passed: ${summary.passed}`);\n  lines.push(`- Failed: ${summary.failed}`);\n  lines.push(`- Skipped: ${summary.skipped}`);\n  lines.push(`- Flaky: ${summary.flaky}`);\n\n  if (summary.failedTests.length > 0) {\n    lines.push('');\n    lines.push('## Failed Tests');\n    lines.push('');\n    for (const test of summary.failedTests) {\n      lines.push(`### ${test.titlePath.join(' > ')}`);\n      for (const error of test.errors) {\n        lines.push('');\n        lines.push('```');\n        lines.push(error.message);\n        lines.push('```');\n      }\n    }\n  }\n\n  if (summary.flakyTests.length > 0) {\n    lines.push('');\n    lines.push('## Flaky Tests');\n    lines.push('');\n    for (const test of summary.flakyTests) {\n      lines.push(`- ${test.titlePath.join(' > ')} (passed on retry ${test.retry})`);\n    }\n  }\n\n  return lines.join('\\n');\n}\n","/**\n * Failure Classifier - Categorize test failures for actionable remediation\n * @see T052 - Implement failure classifier (selector, timing, navigation, data, auth, env)\n */\nimport type { TestResult, TestError } from './parser.js';\n\n/**\n * Failure category\n */\nexport type FailureCategory =\n  | 'selector'    // Element not found, locator issue\n  | 'timing'      // Timeout, race condition\n  | 'navigation'  // URL mismatch, redirect issue\n  | 'data'        // Test data issue, assertion mismatch\n  | 'auth'        // Authentication failure\n  | 'env'         // Environment issue (network, config)\n  | 'script'      // Test script error (syntax, logic)\n  | 'unknown';    // Cannot classify\n\n/**\n * Failure classification result\n */\nexport interface FailureClassification {\n  /** Primary category */\n  category: FailureCategory;\n  /** Confidence level (0-1) */\n  confidence: number;\n  /** Human-readable explanation */\n  explanation: string;\n  /** Suggested fix */\n  suggestion: string;\n  /** Whether this is likely a test issue vs app issue */\n  isTestIssue: boolean;\n  /** Keywords that triggered classification */\n  matchedKeywords: string[];\n}\n\n/**\n * Classification patterns\n */\ninterface ClassificationPattern {\n  category: FailureCategory;\n  keywords: RegExp[];\n  explanation: string;\n  suggestion: string;\n  isTestIssue: boolean;\n}\n\n/**\n * Patterns for classifying failures\n */\nconst CLASSIFICATION_PATTERNS: ClassificationPattern[] = [\n  // Selector issues\n  {\n    category: 'selector',\n    keywords: [\n      /locator\\s+resolved\\s+to\\s+\\d+\\s+elements/i,\n      /locator\\.click:\\s+Error/i,\n      /waiting\\s+for\\s+locator/i,\n      /element\\s+is\\s+not\\s+visible/i,\n      /element\\s+is\\s+not\\s+attached/i,\n      /element\\s+is\\s+not\\s+enabled/i,\n      /getBy\\w+\\s*\\([^)]+\\)/i,\n      /strict\\s+mode\\s+violation/i,\n      /No\\s+element\\s+matches\\s+selector/i,\n      /Target\\s+closed/i,\n      /element\\s+is\\s+outside\\s+of\\s+the\\s+viewport/i,\n    ],\n    explanation: 'Element locator failed to find or interact with element',\n    suggestion: 'Update selector to use more stable locator strategy (role, label, testid)',\n    isTestIssue: true,\n  },\n\n  // Timing issues\n  {\n    category: 'timing',\n    keywords: [\n      /timeout\\s+\\d+ms\\s+exceeded/i,\n      /exceeded\\s+while\\s+waiting/i,\n      /timed?\\s*out/i,\n      /waiting\\s+for\\s+navigation/i,\n      /waiting\\s+for\\s+load\\s+state/i,\n      /response\\s+took\\s+too\\s+long/i,\n      /expect\\.\\w+:\\s+Timeout/i,\n      /navigation\\s+was\\s+interrupted/i,\n    ],\n    explanation: 'Operation timed out waiting for element or network',\n    suggestion: 'Increase timeout or add explicit wait for expected state',\n    isTestIssue: true,\n  },\n\n  // Navigation issues\n  {\n    category: 'navigation',\n    keywords: [\n      /expected\\s+url.*to.*match/i,\n      /expected.*toHaveURL/i,\n      /page\\s+has\\s+been\\s+closed/i,\n      /navigation\\s+failed/i,\n      /net::ERR_/i,\n      /ERR_CONNECTION/i,\n      /ERR_NAME_NOT_RESOLVED/i,\n      /redirect/i,\n      /page\\.goto:\\s+Error/i,\n      /URL\\s+is\\s+not\\s+valid/i,\n    ],\n    explanation: 'Navigation to URL failed or URL mismatch',\n    suggestion: 'Check URL configuration and network connectivity',\n    isTestIssue: false,\n  },\n\n  // Data/assertion issues\n  {\n    category: 'data',\n    keywords: [\n      /expected.*to\\s+(?:be|equal|match|contain|have)/i,\n      /received.*but\\s+expected/i,\n      /toEqual/i,\n      /toBe\\(/i,\n      /toContain/i,\n      /toHaveText/i,\n      /toHaveValue/i,\n      /assertion\\s+failed/i,\n      /expected\\s+value/i,\n      /does\\s+not\\s+match/i,\n    ],\n    explanation: 'Assertion failed due to unexpected data',\n    suggestion: 'Verify test data matches expected application state',\n    isTestIssue: false,\n  },\n\n  // Auth issues\n  {\n    category: 'auth',\n    keywords: [\n      /401\\s+Unauthorized/i,\n      /403\\s+Forbidden/i,\n      /authentication\\s+failed/i,\n      /login\\s+failed/i,\n      /session\\s+expired/i,\n      /token\\s+invalid/i,\n      /access\\s+denied/i,\n      /not\\s+authenticated/i,\n      /sign\\s*in\\s+required/i,\n      /invalid\\s+credentials/i,\n    ],\n    explanation: 'Authentication or authorization failed',\n    suggestion: 'Check authentication state and credentials',\n    isTestIssue: false,\n  },\n\n  // Environment issues\n  {\n    category: 'env',\n    keywords: [\n      /ECONNREFUSED/i,\n      /ENOTFOUND/i,\n      /ETIMEDOUT/i,\n      /connection\\s+refused/i,\n      /network\\s+error/i,\n      /502\\s+Bad\\s+Gateway/i,\n      /503\\s+Service\\s+Unavailable/i,\n      /504\\s+Gateway\\s+Timeout/i,\n      /server\\s+error/i,\n      /browser\\s+has\\s+been\\s+closed/i,\n      /browser\\s+crash/i,\n      /context\\s+closed/i,\n    ],\n    explanation: 'Environment or infrastructure issue',\n    suggestion: 'Check application availability and environment configuration',\n    isTestIssue: false,\n  },\n\n  // Script errors\n  {\n    category: 'script',\n    keywords: [\n      /SyntaxError/i,\n      /TypeError/i,\n      /ReferenceError/i,\n      /undefined\\s+is\\s+not/i,\n      /is\\s+not\\s+a\\s+function/i,\n      /Cannot\\s+read\\s+propert/i,\n      /null\\s+is\\s+not/i,\n      /is\\s+not\\s+defined/i,\n      /Unexpected\\s+token/i,\n    ],\n    explanation: 'Test script has a code error',\n    suggestion: 'Fix the JavaScript/TypeScript error in the test',\n    isTestIssue: true,\n  },\n];\n\n/**\n * Classify a single error message\n */\nexport function classifyError(error: TestError): FailureClassification {\n  const errorText = `${error.message} ${error.stack || ''}`;\n  const matchedKeywords: string[] = [];\n  let bestMatch: ClassificationPattern | null = null;\n  let maxMatches = 0;\n\n  for (const pattern of CLASSIFICATION_PATTERNS) {\n    let matches = 0;\n    const patternMatches: string[] = [];\n\n    for (const keyword of pattern.keywords) {\n      if (keyword.test(errorText)) {\n        matches++;\n        patternMatches.push(keyword.source);\n      }\n    }\n\n    if (matches > maxMatches) {\n      maxMatches = matches;\n      bestMatch = pattern;\n      matchedKeywords.length = 0;\n      matchedKeywords.push(...patternMatches);\n    }\n  }\n\n  if (bestMatch && maxMatches > 0) {\n    return {\n      category: bestMatch.category,\n      confidence: Math.min(maxMatches / 3, 1), // Normalize to 0-1\n      explanation: bestMatch.explanation,\n      suggestion: bestMatch.suggestion,\n      isTestIssue: bestMatch.isTestIssue,\n      matchedKeywords,\n    };\n  }\n\n  return {\n    category: 'unknown',\n    confidence: 0,\n    explanation: 'Unable to classify failure',\n    suggestion: 'Review error details manually',\n    isTestIssue: false,\n    matchedKeywords: [],\n  };\n}\n\n/**\n * Classify a test result\n */\nexport function classifyTestResult(result: TestResult): FailureClassification {\n  if (result.status !== 'failed' || result.errors.length === 0) {\n    return {\n      category: 'unknown',\n      confidence: 0,\n      explanation: 'Test did not fail or has no errors',\n      suggestion: 'N/A',\n      isTestIssue: false,\n      matchedKeywords: [],\n    };\n  }\n\n  // Classify each error and aggregate\n  const classifications = result.errors.map(classifyError);\n\n  // Find the most confident classification\n  const best = classifications.reduce((prev, curr) =>\n    curr.confidence > prev.confidence ? curr : prev\n  );\n\n  return best;\n}\n\n/**\n * Classify multiple test results\n */\nexport function classifyTestResults(\n  results: TestResult[]\n): Map<string, FailureClassification> {\n  const classified = new Map<string, FailureClassification>();\n\n  for (const result of results) {\n    if (result.status === 'failed') {\n      const key = result.titlePath.join(' > ');\n      classified.set(key, classifyTestResult(result));\n    }\n  }\n\n  return classified;\n}\n\n/**\n * Get failure statistics by category\n */\nexport function getFailureStats(\n  classifications: Map<string, FailureClassification>\n): Record<FailureCategory, number> {\n  const stats: Record<FailureCategory, number> = {\n    selector: 0,\n    timing: 0,\n    navigation: 0,\n    data: 0,\n    auth: 0,\n    env: 0,\n    script: 0,\n    unknown: 0,\n  };\n\n  for (const classification of classifications.values()) {\n    stats[classification.category]++;\n  }\n\n  return stats;\n}\n\n/**\n * Check if failures are likely healable\n */\nexport function isHealable(classification: FailureClassification): boolean {\n  // Selector and timing issues are typically healable\n  return (\n    classification.category === 'selector' ||\n    classification.category === 'timing'\n  );\n}\n\n/**\n * Get healable failures\n */\nexport function getHealableFailures(\n  classifications: Map<string, FailureClassification>\n): Map<string, FailureClassification> {\n  const healable = new Map<string, FailureClassification>();\n\n  for (const [key, classification] of classifications.entries()) {\n    if (isHealable(classification)) {\n      healable.set(key, classification);\n    }\n  }\n\n  return healable;\n}\n\n/**\n * Generate classification report\n */\nexport function generateClassificationReport(\n  classifications: Map<string, FailureClassification>\n): string {\n  const lines: string[] = [];\n  const stats = getFailureStats(classifications);\n\n  lines.push('# Failure Classification Report');\n  lines.push('');\n  lines.push('## Summary');\n  lines.push('');\n\n  for (const [category, count] of Object.entries(stats)) {\n    if (count > 0) {\n      lines.push(`- ${category}: ${count}`);\n    }\n  }\n\n  lines.push('');\n  lines.push('## Detailed Classifications');\n  lines.push('');\n\n  for (const [testName, classification] of classifications.entries()) {\n    lines.push(`### ${testName}`);\n    lines.push('');\n    lines.push(`- **Category**: ${classification.category}`);\n    lines.push(`- **Confidence**: ${Math.round(classification.confidence * 100)}%`);\n    lines.push(`- **Explanation**: ${classification.explanation}`);\n    lines.push(`- **Suggestion**: ${classification.suggestion}`);\n    lines.push(`- **Is Test Issue**: ${classification.isTestIssue ? 'Yes' : 'No'}`);\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n","/**\n * Stability Gate - Check for flaky tests with repeat execution\n * @see T053 - Implement stability gate (--repeat-each, --fail-on-flaky-tests)\n */\nimport { runPlaywrightSync, type RunnerOptions, type RunnerResult } from './runner.js';\nimport { parseReportFile, getSummary, type ParsedSummary } from './parser.js';\n\n/**\n * Stability check options\n */\nexport interface StabilityOptions extends Omit<RunnerOptions, 'repeatEach' | 'failOnFlaky'> {\n  /** Number of times to repeat each test */\n  repeatCount?: number;\n  /** Maximum allowed flaky rate (0-1) */\n  maxFlakyRate?: number;\n  /** Whether to stop on first flaky detection */\n  stopOnFlaky?: boolean;\n}\n\n/**\n * Stability check result\n */\nexport interface StabilityResult {\n  /** Whether all tests are stable */\n  stable: boolean;\n  /** Number of runs completed */\n  runsCompleted: number;\n  /** Flaky tests detected */\n  flakyTests: string[];\n  /** Flaky rate (flaky / total) */\n  flakyRate: number;\n  /** Summary of each run */\n  runSummaries: ParsedSummary[];\n  /** Runner result from final run */\n  runnerResult: RunnerResult;\n}\n\nconst DEFAULT_OPTIONS: Required<Pick<StabilityOptions, 'repeatCount' | 'maxFlakyRate' | 'stopOnFlaky'>> = {\n  repeatCount: 3,\n  maxFlakyRate: 0,\n  stopOnFlaky: false,\n};\n\n/**\n * Run stability check on tests\n */\nexport function checkStability(\n  options: StabilityOptions = {}\n): StabilityResult {\n  const opts = { ...DEFAULT_OPTIONS, ...options };\n\n  const result: StabilityResult = {\n    stable: true,\n    runsCompleted: 0,\n    flakyTests: [],\n    flakyRate: 0,\n    runSummaries: [],\n    runnerResult: {\n      success: false,\n      exitCode: 0,\n      stdout: '',\n      stderr: '',\n      duration: 0,\n      command: '',\n    },\n  };\n\n  // Run tests with repeat-each\n  const runnerResult = runPlaywrightSync({\n    ...options,\n    repeatEach: opts.repeatCount,\n    failOnFlaky: true,\n  });\n\n  result.runnerResult = runnerResult;\n  result.runsCompleted = opts.repeatCount;\n\n  // Parse report if available\n  if (runnerResult.reportPath) {\n    const report = parseReportFile(runnerResult.reportPath);\n    if (report) {\n      const summary = getSummary(report);\n      result.runSummaries.push(summary);\n\n      // Extract flaky tests\n      result.flakyTests = summary.flakyTests.map((t) => t.titlePath.join(' > '));\n\n      // Calculate flaky rate\n      result.flakyRate = summary.total > 0 ? summary.flaky / summary.total : 0;\n\n      // Check stability\n      result.stable = result.flakyRate <= opts.maxFlakyRate;\n    }\n  }\n\n  // If runner failed and no report, check stdout for flaky indication\n  if (!runnerResult.success && result.flakyTests.length === 0) {\n    if (runnerResult.stdout.includes('flaky') || runnerResult.stderr.includes('flaky')) {\n      result.stable = false;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Quick stability check (2 runs)\n */\nexport function quickStabilityCheck(\n  options: Omit<StabilityOptions, 'repeatCount'> = {}\n): StabilityResult {\n  return checkStability({\n    ...options,\n    repeatCount: 2,\n  });\n}\n\n/**\n * Thorough stability check (5 runs)\n */\nexport function thoroughStabilityCheck(\n  options: Omit<StabilityOptions, 'repeatCount'> = {}\n): StabilityResult {\n  return checkStability({\n    ...options,\n    repeatCount: 5,\n  });\n}\n\n/**\n * Check if a specific test is stable\n */\nexport function isTestStable(\n  testFile: string,\n  testName: string,\n  repeatCount: number = 3,\n  options: Omit<StabilityOptions, 'repeatCount' | 'testFile' | 'grep'> = {}\n): boolean {\n  const result = checkStability({\n    ...options,\n    testFile,\n    grep: testName,\n    repeatCount,\n  });\n\n  return result.stable;\n}\n\n/**\n * Get flakiness score (0 = stable, 1 = always flaky)\n */\nexport function getFlakinessScore(result: StabilityResult): number {\n  if (result.runsCompleted === 0) return 0;\n  return result.flakyRate;\n}\n\n/**\n * Determine if test should be quarantined based on stability\n */\nexport function shouldQuarantine(\n  result: StabilityResult,\n  threshold: number = 0.3\n): boolean {\n  return result.flakyRate > threshold;\n}\n\n/**\n * Generate stability report\n */\nexport function generateStabilityReport(result: StabilityResult): string {\n  const lines: string[] = [];\n\n  lines.push('# Stability Check Report');\n  lines.push('');\n  lines.push(`**Status**: ${result.stable ? ' STABLE' : ' UNSTABLE'}`);\n  lines.push(`**Runs Completed**: ${result.runsCompleted}`);\n  lines.push(`**Flaky Rate**: ${Math.round(result.flakyRate * 100)}%`);\n  lines.push('');\n\n  if (result.flakyTests.length > 0) {\n    lines.push('## Flaky Tests Detected');\n    lines.push('');\n    for (const test of result.flakyTests) {\n      lines.push(`- ${test}`);\n    }\n    lines.push('');\n    lines.push('### Recommendations');\n    lines.push('');\n    lines.push('1. Review test steps for race conditions');\n    lines.push('2. Add explicit waits for expected states');\n    lines.push('3. Check for shared state between tests');\n    lines.push('4. Consider isolation improvements');\n  } else {\n    lines.push('## All Tests Stable');\n    lines.push('');\n    lines.push('No flakiness detected after repeated runs.');\n  }\n\n  return lines.join('\\n');\n}\n","/**\n * Evidence Capture - ARIA snapshots and screenshots for debugging\n * @see T054 - Implement ARIA snapshot capture helper\n */\nimport { existsSync, mkdirSync, writeFileSync, readFileSync } from 'node:fs';\nimport { join } from 'node:path';\n\n/**\n * ARIA snapshot for an element\n */\nexport interface ARIASnapshot {\n  /** Role of the element */\n  role: string;\n  /** Accessible name */\n  name?: string;\n  /** Current value */\n  value?: string;\n  /** Whether element is disabled */\n  disabled?: boolean;\n  /** Whether element is checked (for checkboxes/radios) */\n  checked?: boolean;\n  /** Whether element is expanded (for accordions/dropdowns) */\n  expanded?: boolean;\n  /** Whether element is pressed (for toggle buttons) */\n  pressed?: boolean;\n  /** Hierarchical level (for headings) */\n  level?: number;\n  /** Child elements */\n  children?: ARIASnapshot[];\n  /** Element's text content */\n  text?: string;\n  /** Additional ARIA attributes */\n  attributes?: Record<string, string>;\n}\n\n/**\n * Evidence collection result\n */\nexport interface Evidence {\n  /** Timestamp of collection */\n  timestamp: string;\n  /** URL where evidence was captured */\n  url: string;\n  /** Page title */\n  title: string;\n  /** ARIA snapshot of the page */\n  ariaSnapshot?: ARIASnapshot;\n  /** Path to screenshot */\n  screenshotPath?: string;\n  /** Path to trace file */\n  tracePath?: string;\n  /** Console messages */\n  consoleMessages?: string[];\n  /** Network errors */\n  networkErrors?: string[];\n  /** Custom metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Evidence collection options\n */\nexport interface EvidenceOptions {\n  /** Directory to save evidence */\n  outputDir?: string;\n  /** Capture screenshot */\n  captureScreenshot?: boolean;\n  /** Capture ARIA snapshot */\n  captureAria?: boolean;\n  /** Capture console logs */\n  captureConsole?: boolean;\n  /** Capture network errors */\n  captureNetwork?: boolean;\n  /** Custom filename prefix */\n  prefix?: string;\n}\n\n/**\n * Generate Playwright code for capturing ARIA snapshot\n */\nexport function generateARIACaptureCode(): string {\n  return `\n// ARIA Snapshot Helper - Insert this in your test for debugging\nasync function captureARIASnapshot(page) {\n  return await page.evaluate(() => {\n    function getSnapshot(element) {\n      const role = element.getAttribute('role') ||\n                   element.tagName.toLowerCase();\n\n      const snapshot = { role };\n\n      // Get accessible name\n      const name = element.getAttribute('aria-label') ||\n                   element.getAttribute('aria-labelledby') ?\n                   document.getElementById(element.getAttribute('aria-labelledby'))?.textContent :\n                   element.textContent?.trim().slice(0, 100);\n      if (name) snapshot.name = name;\n\n      // Get ARIA states\n      if (element.getAttribute('aria-disabled') === 'true') {\n        snapshot.disabled = true;\n      }\n      if (element.getAttribute('aria-checked') === 'true') {\n        snapshot.checked = true;\n      }\n      if (element.getAttribute('aria-expanded') === 'true') {\n        snapshot.expanded = true;\n      }\n      if (element.getAttribute('aria-pressed') === 'true') {\n        snapshot.pressed = true;\n      }\n\n      // Get heading level\n      const levelMatch = element.tagName.match(/^H(\\\\d)$/i);\n      if (levelMatch) {\n        snapshot.level = parseInt(levelMatch[1], 10);\n      }\n\n      // Get children\n      const children = Array.from(element.children)\n        .map(child => getSnapshot(child))\n        .filter(c => c.role !== 'none' && c.role !== 'presentation');\n\n      if (children.length > 0) {\n        snapshot.children = children;\n      }\n\n      return snapshot;\n    }\n\n    return getSnapshot(document.body);\n  });\n}\n`.trim();\n}\n\n/**\n * Generate Playwright code for full evidence capture\n */\nexport function generateEvidenceCaptureCode(options: EvidenceOptions = {}): string {\n  const {\n    captureScreenshot = true,\n    captureAria = true,\n    captureConsole = true,\n  } = options;\n\n  const parts: string[] = [];\n\n  parts.push('// Evidence Capture Helper');\n  parts.push('const evidence = {');\n  parts.push('  timestamp: new Date().toISOString(),');\n  parts.push('  url: page.url(),');\n  parts.push('  title: await page.title(),');\n\n  if (captureAria) {\n    parts.push('  ariaSnapshot: await captureARIASnapshot(page),');\n  }\n\n  if (captureScreenshot) {\n    parts.push('  screenshotPath: await page.screenshot({ path: \"evidence.png\" }),');\n  }\n\n  if (captureConsole) {\n    parts.push('  consoleMessages: [], // Collect from page.on(\"console\")');\n  }\n\n  parts.push('};');\n\n  return parts.join('\\n');\n}\n\n/**\n * Create evidence directory\n */\nexport function createEvidenceDir(basePath: string, testId: string): string {\n  const evidenceDir = join(basePath, 'evidence', testId);\n  mkdirSync(evidenceDir, { recursive: true });\n  return evidenceDir;\n}\n\n/**\n * Save evidence to file\n */\nexport function saveEvidence(\n  evidence: Evidence,\n  outputDir: string,\n  testId: string\n): string {\n  const dir = createEvidenceDir(outputDir, testId);\n  const filename = `evidence-${Date.now()}.json`;\n  const filepath = join(dir, filename);\n\n  writeFileSync(filepath, JSON.stringify(evidence, null, 2), 'utf-8');\n  return filepath;\n}\n\n/**\n * Load evidence from file\n */\nexport function loadEvidence(filepath: string): Evidence | null {\n  if (!existsSync(filepath)) {\n    return null;\n  }\n\n  try {\n    const content = readFileSync(filepath, 'utf-8');\n    return JSON.parse(content) as Evidence;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Compare two ARIA snapshots\n */\nexport function compareARIASnapshots(\n  expected: ARIASnapshot,\n  actual: ARIASnapshot\n): { matches: boolean; differences: string[] } {\n  const differences: string[] = [];\n\n  function compare(\n    path: string,\n    exp: ARIASnapshot,\n    act: ARIASnapshot\n  ): void {\n    if (exp.role !== act.role) {\n      differences.push(`${path}: role mismatch (expected: ${exp.role}, actual: ${act.role})`);\n    }\n\n    if (exp.name !== act.name) {\n      differences.push(`${path}: name mismatch (expected: ${exp.name}, actual: ${act.name})`);\n    }\n\n    if (exp.disabled !== act.disabled) {\n      differences.push(`${path}: disabled state mismatch`);\n    }\n\n    if (exp.checked !== act.checked) {\n      differences.push(`${path}: checked state mismatch`);\n    }\n\n    // Compare children\n    const expChildren = exp.children || [];\n    const actChildren = act.children || [];\n\n    if (expChildren.length !== actChildren.length) {\n      differences.push(`${path}: children count mismatch (expected: ${expChildren.length}, actual: ${actChildren.length})`);\n    }\n\n    const minLen = Math.min(expChildren.length, actChildren.length);\n    for (let i = 0; i < minLen; i++) {\n      compare(`${path}/${expChildren[i]!.role}[${i}]`, expChildren[i]!, actChildren[i]!);\n    }\n  }\n\n  compare('/', expected, actual);\n\n  return {\n    matches: differences.length === 0,\n    differences,\n  };\n}\n\n/**\n * Find element in ARIA snapshot by role and name\n */\nexport function findInSnapshot(\n  snapshot: ARIASnapshot,\n  role: string,\n  name?: string\n): ARIASnapshot | null {\n  if (snapshot.role === role && (!name || snapshot.name === name)) {\n    return snapshot;\n  }\n\n  for (const child of snapshot.children || []) {\n    const found = findInSnapshot(child, role, name);\n    if (found) return found;\n  }\n\n  return null;\n}\n\n/**\n * Generate ARIA tree as text\n */\nexport function formatARIATree(\n  snapshot: ARIASnapshot,\n  indent: number = 0\n): string {\n  const prefix = '  '.repeat(indent);\n  let line = `${prefix}${snapshot.role}`;\n\n  if (snapshot.name) {\n    line += ` \"${snapshot.name}\"`;\n  }\n\n  const states: string[] = [];\n  if (snapshot.disabled) states.push('disabled');\n  if (snapshot.checked) states.push('checked');\n  if (snapshot.expanded) states.push('expanded');\n  if (snapshot.pressed) states.push('pressed');\n  if (snapshot.level) states.push(`level=${snapshot.level}`);\n\n  if (states.length > 0) {\n    line += ` [${states.join(', ')}]`;\n  }\n\n  const lines = [line];\n\n  for (const child of snapshot.children || []) {\n    lines.push(formatARIATree(child, indent + 1));\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Generate evidence report\n */\nexport function generateEvidenceReport(evidence: Evidence): string {\n  const lines: string[] = [];\n\n  lines.push('# Evidence Report');\n  lines.push('');\n  lines.push(`**Captured**: ${evidence.timestamp}`);\n  lines.push(`**URL**: ${evidence.url}`);\n  lines.push(`**Title**: ${evidence.title}`);\n  lines.push('');\n\n  if (evidence.screenshotPath) {\n    lines.push('## Screenshot');\n    lines.push('');\n    lines.push(`![Screenshot](${evidence.screenshotPath})`);\n    lines.push('');\n  }\n\n  if (evidence.ariaSnapshot) {\n    lines.push('## ARIA Snapshot');\n    lines.push('');\n    lines.push('```');\n    lines.push(formatARIATree(evidence.ariaSnapshot));\n    lines.push('```');\n    lines.push('');\n  }\n\n  if (evidence.consoleMessages && evidence.consoleMessages.length > 0) {\n    lines.push('## Console Messages');\n    lines.push('');\n    for (const msg of evidence.consoleMessages) {\n      lines.push(`- ${msg}`);\n    }\n    lines.push('');\n  }\n\n  if (evidence.networkErrors && evidence.networkErrors.length > 0) {\n    lines.push('## Network Errors');\n    lines.push('');\n    for (const err of evidence.networkErrors) {\n      lines.push(`- ${err}`);\n    }\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n","/**\n * Verify Summary Generator - Generate structured JSON summary of test runs\n * @see T055 - Implement verify summary JSON generator\n */\nimport { writeFileSync, mkdirSync } from 'node:fs';\nimport { dirname } from 'node:path';\nimport type { RunnerResult } from './runner.js';\nimport type { PlaywrightReport } from './parser.js';\nimport type { FailureClassification } from './classifier.js';\nimport type { StabilityResult } from './stability.js';\nimport { parseReportFile, getSummary, getFailedTests } from './parser.js';\nimport { classifyTestResults, getFailureStats } from './classifier.js';\n\n/**\n * Verification summary\n */\nexport interface VerifySummary {\n  /** Overall verification status */\n  status: 'passed' | 'failed' | 'flaky' | 'error';\n  /** Journey ID if available */\n  journeyId?: string;\n  /** Timestamp */\n  timestamp: string;\n  /** Duration in ms */\n  duration: number;\n  /** Test counts */\n  counts: {\n    total: number;\n    passed: number;\n    failed: number;\n    skipped: number;\n    flaky: number;\n  };\n  /** Failure analysis */\n  failures: {\n    tests: string[];\n    classifications: Record<string, FailureClassification>;\n    stats: Record<string, number>;\n  };\n  /** Stability information */\n  stability?: {\n    stable: boolean;\n    flakyTests: string[];\n    flakyRate: number;\n  };\n  /** Raw runner result */\n  runner: {\n    exitCode: number;\n    command: string;\n  };\n  /** Path to detailed report */\n  reportPath?: string;\n  /** Additional metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Options for generating summary\n */\nexport interface SummaryOptions {\n  /** Journey ID to associate */\n  journeyId?: string;\n  /** Include stability results */\n  stabilityResult?: StabilityResult;\n  /** Additional metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Generate verification summary from runner result\n */\nexport function generateVerifySummary(\n  runnerResult: RunnerResult,\n  options: SummaryOptions = {}\n): VerifySummary {\n  const summary: VerifySummary = {\n    status: 'error',\n    timestamp: new Date().toISOString(),\n    duration: runnerResult.duration,\n    counts: {\n      total: 0,\n      passed: 0,\n      failed: 0,\n      skipped: 0,\n      flaky: 0,\n    },\n    failures: {\n      tests: [],\n      classifications: {},\n      stats: {},\n    },\n    runner: {\n      exitCode: runnerResult.exitCode,\n      command: runnerResult.command,\n    },\n    reportPath: runnerResult.reportPath,\n  };\n\n  if (options.journeyId) {\n    summary.journeyId = options.journeyId;\n  }\n\n  if (options.metadata) {\n    summary.metadata = options.metadata;\n  }\n\n  // Parse report if available\n  if (runnerResult.reportPath) {\n    const report = parseReportFile(runnerResult.reportPath);\n    if (report) {\n      const parsed = getSummary(report);\n\n      // Update counts\n      summary.counts = {\n        total: parsed.total,\n        passed: parsed.passed,\n        failed: parsed.failed,\n        skipped: parsed.skipped,\n        flaky: parsed.flaky,\n      };\n\n      // Get failed tests\n      const failedTests = getFailedTests(report);\n      summary.failures.tests = failedTests.map((t) => t.titlePath.join(' > '));\n\n      // Classify failures\n      const classifications = classifyTestResults(failedTests);\n      summary.failures.classifications = Object.fromEntries(classifications);\n      summary.failures.stats = getFailureStats(classifications);\n\n      // Determine status\n      if (parsed.failed === 0) {\n        summary.status = parsed.flaky > 0 ? 'flaky' : 'passed';\n      } else {\n        summary.status = 'failed';\n      }\n    }\n  } else {\n    // No report - use runner result to determine status\n    summary.status = runnerResult.success ? 'passed' : 'failed';\n  }\n\n  // Add stability info if provided\n  if (options.stabilityResult) {\n    summary.stability = {\n      stable: options.stabilityResult.stable,\n      flakyTests: options.stabilityResult.flakyTests,\n      flakyRate: options.stabilityResult.flakyRate,\n    };\n\n    // Update status if unstable\n    if (!options.stabilityResult.stable && summary.status === 'passed') {\n      summary.status = 'flaky';\n    }\n  }\n\n  return summary;\n}\n\n/**\n * Generate summary from Playwright report directly\n */\nexport function generateSummaryFromReport(\n  report: PlaywrightReport,\n  options: SummaryOptions = {}\n): VerifySummary {\n  const parsed = getSummary(report);\n  const failedTests = getFailedTests(report);\n  const classifications = classifyTestResults(failedTests);\n\n  const summary: VerifySummary = {\n    status: parsed.failed === 0 ? (parsed.flaky > 0 ? 'flaky' : 'passed') : 'failed',\n    timestamp: parsed.startTime.toISOString(),\n    duration: parsed.duration,\n    counts: {\n      total: parsed.total,\n      passed: parsed.passed,\n      failed: parsed.failed,\n      skipped: parsed.skipped,\n      flaky: parsed.flaky,\n    },\n    failures: {\n      tests: failedTests.map((t) => t.titlePath.join(' > ')),\n      classifications: Object.fromEntries(classifications),\n      stats: getFailureStats(classifications),\n    },\n    runner: {\n      exitCode: parsed.failed > 0 ? 1 : 0,\n      command: 'N/A',\n    },\n  };\n\n  if (options.journeyId) {\n    summary.journeyId = options.journeyId;\n  }\n\n  if (options.metadata) {\n    summary.metadata = options.metadata;\n  }\n\n  return summary;\n}\n\n/**\n * Check if verification passed\n */\nexport function isVerificationPassed(summary: VerifySummary): boolean {\n  return summary.status === 'passed';\n}\n\n/**\n * Check if verification has failures\n */\nexport function hasFailures(summary: VerifySummary): boolean {\n  return summary.counts.failed > 0;\n}\n\n/**\n * Check if verification has flaky tests\n */\nexport function summaryHasFlaky(summary: VerifySummary): boolean {\n  return summary.counts.flaky > 0 || summary.stability?.flakyRate !== undefined && summary.stability.flakyRate > 0;\n}\n\n/**\n * Get actionable recommendations based on failures\n */\nexport function getRecommendations(summary: VerifySummary): string[] {\n  const recommendations: string[] = [];\n\n  if (summary.counts.failed > 0) {\n    // Analyze failure categories\n    const stats = summary.failures.stats;\n\n    if (stats.selector! > 0) {\n      recommendations.push(\n        `${stats.selector} selector issue(s): Update locators to use stable selectors (role, label, testid)`\n      );\n    }\n\n    if (stats.timing! > 0) {\n      recommendations.push(\n        `${stats.timing} timing issue(s): Add explicit waits or increase timeout`\n      );\n    }\n\n    if (stats.auth! > 0) {\n      recommendations.push(\n        `${stats.auth} auth issue(s): Check authentication state and credentials`\n      );\n    }\n\n    if (stats.env! > 0) {\n      recommendations.push(\n        `${stats.env} environment issue(s): Verify application is running and accessible`\n      );\n    }\n\n    if (stats.data! > 0) {\n      recommendations.push(\n        `${stats.data} data issue(s): Review test data and expected values`\n      );\n    }\n  }\n\n  if (summary.stability && !summary.stability.stable) {\n    recommendations.push(\n      `${summary.stability.flakyTests.length} flaky test(s) detected: Review for race conditions and add proper waits`\n    );\n  }\n\n  return recommendations;\n}\n\n/**\n * Generate human-readable summary\n */\nexport function formatVerifySummary(summary: VerifySummary): string {\n  const lines: string[] = [];\n\n  // Status header\n  const statusIcon =\n    summary.status === 'passed'\n      ? ''\n      : summary.status === 'flaky'\n      ? ''\n      : '';\n\n  lines.push(`${statusIcon} Verification ${summary.status.toUpperCase()}`);\n  lines.push('');\n\n  // Journey info\n  if (summary.journeyId) {\n    lines.push(`Journey: ${summary.journeyId}`);\n  }\n\n  lines.push(`Duration: ${Math.round(summary.duration / 1000)}s`);\n  lines.push('');\n\n  // Counts\n  lines.push('## Results');\n  lines.push(`- Total: ${summary.counts.total}`);\n  lines.push(`- Passed: ${summary.counts.passed}`);\n  lines.push(`- Failed: ${summary.counts.failed}`);\n  lines.push(`- Skipped: ${summary.counts.skipped}`);\n  lines.push(`- Flaky: ${summary.counts.flaky}`);\n  lines.push('');\n\n  // Failures\n  if (summary.failures.tests.length > 0) {\n    lines.push('## Failed Tests');\n    for (const test of summary.failures.tests) {\n      lines.push(`- ${test}`);\n    }\n    lines.push('');\n  }\n\n  // Stability\n  if (summary.stability) {\n    lines.push('## Stability');\n    lines.push(`- Stable: ${summary.stability.stable ? 'Yes' : 'No'}`);\n    lines.push(`- Flaky Rate: ${Math.round(summary.stability.flakyRate * 100)}%`);\n    lines.push('');\n  }\n\n  // Recommendations\n  const recommendations = getRecommendations(summary);\n  if (recommendations.length > 0) {\n    lines.push('## Recommendations');\n    for (const rec of recommendations) {\n      lines.push(`- ${rec}`);\n    }\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Save summary to JSON file\n */\nexport function saveSummary(summary: VerifySummary, outputPath: string): void {\n  mkdirSync(dirname(outputPath), { recursive: true });\n  writeFileSync(outputPath, JSON.stringify(summary, null, 2), 'utf-8');\n}\n"]}