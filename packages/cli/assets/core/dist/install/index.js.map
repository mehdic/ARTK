{"version":3,"sources":["../../install/package-generator.ts","../../install/playwright-config-generator.ts","../../install/gitignore-generator.ts","../../install/index.ts"],"names":["DEFAULT_OPTIONS"],"mappings":"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","file":"index.js","sourcesContent":["/**\n * @module install/package-generator\n * @description Package.json generator for ARTK E2E isolated installation.\n *\n * Generates a minimal package.json with only essential dependencies:\n * - @artk/core (vendored)\n * - @playwright/test\n *\n * @example\n * ```typescript\n * import { generatePackageJson, PackageJsonOptions } from '@artk/core/install';\n *\n * const packageJson = generatePackageJson({\n *   projectName: 'my-e2e-tests',\n *   artkCoreVersion: '1.0.0',\n *   playwrightVersion: '^1.57.0',\n * });\n *\n * await fs.writeFile('artk-e2e/package.json', packageJson);\n * ```\n */\n\n/**\n * Options for generating package.json.\n */\nexport interface PackageJsonOptions {\n  /**\n   * Name of the E2E test project.\n   * Will be normalized to lowercase-kebab-case.\n   * @default 'artk-e2e-tests'\n   */\n  projectName?: string;\n\n  /**\n   * Description for the package.\n   * @default 'ARTK E2E Testing Suite'\n   */\n  description?: string;\n\n  /**\n   * Version of @artk/core to use.\n   * @default '1.0.0'\n   */\n  artkCoreVersion?: string;\n\n  /**\n   * Version of @playwright/test to use.\n   * @default '^1.57.0'\n   */\n  playwrightVersion?: string;\n\n  /**\n   * Additional npm scripts to include.\n   */\n  additionalScripts?: Record<string, string>;\n\n  /**\n   * Additional dependencies to include.\n   */\n  additionalDependencies?: Record<string, string>;\n\n  /**\n   * Additional devDependencies to include.\n   */\n  additionalDevDependencies?: Record<string, string>;\n\n  /**\n   * Whether to include TypeScript configuration.\n   * @default true\n   */\n  includeTypeScript?: boolean;\n\n  /**\n   * TypeScript version to use.\n   * @default '^5.3.3'\n   */\n  typescriptVersion?: string;\n\n  /**\n   * Whether this is a vendored installation (uses local path).\n   * @default true\n   */\n  vendored?: boolean;\n}\n\n/**\n * Default options for package.json generation.\n */\nconst DEFAULT_OPTIONS: Required<PackageJsonOptions> = {\n  projectName: 'artk-e2e-tests',\n  description: 'ARTK E2E Testing Suite',\n  artkCoreVersion: '1.0.0',\n  playwrightVersion: '^1.57.0',\n  additionalScripts: {},\n  additionalDependencies: {},\n  additionalDevDependencies: {},\n  includeTypeScript: true,\n  typescriptVersion: '^5.3.3',\n  vendored: true,\n};\n\n/**\n * Generated package.json structure.\n */\nexport interface GeneratedPackageJson {\n  name: string;\n  version: string;\n  private: boolean;\n  type: 'module';\n  description: string;\n  scripts: Record<string, string>;\n  dependencies: Record<string, string>;\n  devDependencies: Record<string, string>;\n  engines: {\n    node: string;\n  };\n}\n\n/**\n * Normalizes a project name to lowercase-kebab-case.\n *\n * @param name - Project name to normalize\n * @returns Normalized project name\n */\nexport function normalizeProjectName(name: string): string {\n  return name\n    .toLowerCase()\n    .replace(/[^a-z0-9-]/g, '-')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\n/**\n * Generates a package.json object for ARTK E2E installation.\n *\n * @param options - Generation options\n * @returns Package.json object\n */\nexport function generatePackageJsonObject(\n  options?: PackageJsonOptions\n): GeneratedPackageJson {\n  const opts: Required<PackageJsonOptions> = {\n    ...DEFAULT_OPTIONS,\n    ...options,\n  };\n\n  const projectName = normalizeProjectName(opts.projectName);\n\n  // Base scripts\n  const scripts: Record<string, string> = {\n    test: 'playwright test',\n    'test:headed': 'playwright test --headed',\n    'test:debug': 'playwright test --debug',\n    'test:ui': 'playwright test --ui',\n    report: 'playwright show-report',\n    codegen: 'playwright codegen',\n    ...opts.additionalScripts,\n  };\n\n  // Add target-specific test scripts (can be added later by config)\n  // scripts['test:user-portal'] = 'playwright test --grep @user-portal';\n\n  // Dependencies\n  const dependencies: Record<string, string> = {\n    // For vendored installation, use local path\n    '@artk/core': opts.vendored\n      ? 'file:./vendor/artk-core'\n      : opts.artkCoreVersion,\n    ...opts.additionalDependencies,\n  };\n\n  // Dev dependencies\n  const devDependencies: Record<string, string> = {\n    '@playwright/test': opts.playwrightVersion,\n    ...opts.additionalDevDependencies,\n  };\n\n  // Add TypeScript if requested\n  if (opts.includeTypeScript) {\n    devDependencies['typescript'] = opts.typescriptVersion;\n    devDependencies['@types/node'] = '^20.10.0';\n\n    // Add typecheck script\n    scripts['typecheck'] = 'tsc --noEmit';\n  }\n\n  return {\n    name: projectName,\n    version: '1.0.0',\n    private: true,\n    type: 'module',\n    description: opts.description,\n    scripts,\n    dependencies,\n    devDependencies,\n    engines: {\n      node: '>=18.0.0',\n    },\n  };\n}\n\n/**\n * Generates a package.json string for ARTK E2E installation.\n *\n * @param options - Generation options\n * @returns Formatted package.json string\n */\nexport function generatePackageJson(options?: PackageJsonOptions): string {\n  const packageJson = generatePackageJsonObject(options);\n  return JSON.stringify(packageJson, null, 2) + '\\n';\n}\n\n/**\n * Validates a project name.\n *\n * @param name - Project name to validate\n * @returns Validation result with normalized name\n */\nexport function validateProjectName(name: string): {\n  valid: boolean;\n  normalized: string;\n  warnings: string[];\n} {\n  const warnings: string[] = [];\n  const normalized = normalizeProjectName(name);\n\n  // Check if normalization changed the name\n  if (normalized !== name.toLowerCase()) {\n    warnings.push(\n      `Project name normalized from \"${name}\" to \"${normalized}\"`\n    );\n  }\n\n  // Check for empty name\n  if (normalized.length === 0) {\n    return {\n      valid: false,\n      normalized: 'artk-e2e-tests',\n      warnings: ['Project name is empty, using default: artk-e2e-tests'],\n    };\n  }\n\n  // Check for npm naming issues\n  if (normalized.startsWith('-') || normalized.endsWith('-')) {\n    warnings.push('Project name should not start or end with hyphens');\n  }\n\n  if (normalized.length > 214) {\n    return {\n      valid: false,\n      normalized: normalized.substring(0, 214),\n      warnings: ['Project name too long (max 214 characters), truncated'],\n    };\n  }\n\n  return {\n    valid: true,\n    normalized,\n    warnings,\n  };\n}\n\n/**\n * Default versions for ARTK E2E dependencies.\n */\nexport const DEPENDENCY_VERSIONS = {\n  playwright: '^1.57.0',\n  typescript: '^5.3.3',\n  artkCore: '1.0.0',\n  node: '>=18.0.0',\n} as const;\n","/**\n * @module install/playwright-config-generator\n * @description Playwright configuration generator for ARTK E2E.\n *\n * Generates playwright.config.ts with multi-target support and\n * environment-aware configuration.\n *\n * @example\n * ```typescript\n * import { generatePlaywrightConfig, PlaywrightConfigOptions } from '@artk/core/install';\n *\n * const config = generatePlaywrightConfig({\n *   targets: ['user-portal', 'admin-portal'],\n *   defaultTarget: 'user-portal',\n * });\n *\n * await fs.writeFile('artk-e2e/playwright.config.ts', config);\n * ```\n */\n\n/**\n * Target configuration for Playwright.\n */\nexport interface PlaywrightTargetConfig {\n  /**\n   * Target name (e.g., 'user-portal').\n   */\n  name: string;\n\n  /**\n   * Base URL for the target.\n   * Can include environment placeholder: ${ARTK_ENV}\n   */\n  baseUrl?: string;\n\n  /**\n   * Test directory for this target.\n   * @default `tests/${name}`\n   */\n  testDir?: string;\n\n  /**\n   * Storage state path for this target.\n   */\n  storageState?: string;\n}\n\n/**\n * Options for generating playwright.config.ts.\n */\nexport interface PlaywrightConfigOptions {\n  /**\n   * Target configurations.\n   */\n  targets?: PlaywrightTargetConfig[];\n\n  /**\n   * Default target name.\n   */\n  defaultTarget?: string;\n\n  /**\n   * Test directory (when not using targets).\n   * @default 'tests'\n   */\n  testDir?: string;\n\n  /**\n   * Output directory for test artifacts.\n   * @default 'test-results'\n   */\n  outputDir?: string;\n\n  /**\n   * Number of retries for failed tests.\n   * @default 2\n   */\n  retries?: number;\n\n  /**\n   * Whether to run tests in parallel.\n   * @default true\n   */\n  fullyParallel?: boolean;\n\n  /**\n   * Number of workers (parallel processes).\n   */\n  workers?: number;\n\n  /**\n   * Whether to forbid test.only() in CI.\n   * @default true in CI\n   */\n  forbidOnly?: boolean;\n\n  /**\n   * Test timeout in milliseconds.\n   * @default 30000\n   */\n  timeout?: number;\n\n  /**\n   * Expect (assertion) timeout in milliseconds.\n   * @default 5000\n   */\n  expectTimeout?: number;\n\n  /**\n   * Whether to record trace on first retry.\n   * @default 'on-first-retry'\n   */\n  trace?: 'on' | 'off' | 'on-first-retry' | 'retain-on-failure';\n\n  /**\n   * Whether to capture screenshots on failure.\n   * @default 'only-on-failure'\n   */\n  screenshot?: 'on' | 'off' | 'only-on-failure';\n\n  /**\n   * Whether to record video on failure.\n   * @default 'on-first-retry'\n   */\n  video?: 'on' | 'off' | 'on-first-retry' | 'retain-on-failure';\n\n  /**\n   * Browser viewport size.\n   */\n  viewport?: {\n    width: number;\n    height: number;\n  };\n\n  /**\n   * Whether to run in headless mode.\n   * @default true in CI\n   */\n  headless?: boolean;\n\n  /**\n   * Browsers to test against.\n   * @default ['chromium']\n   */\n  browsers?: ('chromium' | 'firefox' | 'webkit')[];\n\n  /**\n   * Whether to include the reporter configuration.\n   * @default true\n   */\n  includeReporter?: boolean;\n\n  /**\n   * Custom reporter configuration.\n   */\n  reporter?: string;\n\n  /**\n   * Whether to use the @artk/core harness.\n   * @default true\n   */\n  useArtkHarness?: boolean;\n\n  /**\n   * Whether to include auth setup project.\n   * @default true\n   */\n  includeAuthSetup?: boolean;\n}\n\n/**\n * Default options for Playwright config generation.\n */\nconst DEFAULT_OPTIONS: Required<Omit<PlaywrightConfigOptions, 'targets' | 'workers' | 'viewport' | 'reporter'>> & {\n  targets: PlaywrightTargetConfig[];\n  workers: number | undefined;\n  viewport: { width: number; height: number };\n  reporter: string | undefined;\n} = {\n  targets: [],\n  defaultTarget: '',\n  testDir: 'tests',\n  outputDir: 'test-results',\n  retries: 2,\n  fullyParallel: true,\n  workers: undefined,\n  forbidOnly: true,\n  timeout: 30000,\n  expectTimeout: 5000,\n  trace: 'on-first-retry',\n  screenshot: 'only-on-failure',\n  video: 'on-first-retry',\n  viewport: { width: 1280, height: 720 },\n  headless: true,\n  browsers: ['chromium'],\n  includeReporter: true,\n  reporter: undefined,\n  useArtkHarness: true,\n  includeAuthSetup: true,\n};\n\n/**\n * Generates a playwright.config.ts string.\n *\n * @param options - Configuration options\n * @returns TypeScript configuration file content\n */\nexport function generatePlaywrightConfig(\n  options?: PlaywrightConfigOptions\n): string {\n  const opts = {\n    ...DEFAULT_OPTIONS,\n    ...options,\n  };\n\n  const lines: string[] = [];\n\n  // Header\n  lines.push(`/**`);\n  lines.push(` * Playwright Configuration`);\n  lines.push(` * Generated by ARTK E2E`);\n  lines.push(` * @see https://playwright.dev/docs/test-configuration`);\n  lines.push(` */`);\n  lines.push('');\n\n  // Imports\n  lines.push(`import { defineConfig, devices } from '@playwright/test';`);\n  if (opts.useArtkHarness) {\n    lines.push(`import { loadArtkConfig } from '@artk/core/config';`);\n    lines.push(`import { validateBrowserChannel } from '@artk/core/harness';`);\n  }\n  lines.push('');\n\n  // Environment variable handling\n  lines.push(`// Load environment`);\n  lines.push(`const env = process.env.ARTK_ENV || 'local';`);\n  lines.push(`const isCI = !!process.env.CI;`);\n  lines.push('');\n\n  // ARTK config loading\n  if (opts.useArtkHarness) {\n    lines.push(`// Load ARTK configuration`);\n    lines.push(`const artkConfig = loadArtkConfig();`);\n    lines.push('');\n  }\n\n  // Export config\n  lines.push(`export default defineConfig({`);\n\n  // Test directory\n  lines.push(`  testDir: '${opts.testDir}',`);\n\n  // Output\n  lines.push(`  outputDir: '${opts.outputDir}',`);\n\n  // Parallel execution\n  lines.push(`  fullyParallel: ${opts.fullyParallel},`);\n\n  // Forbid only in CI\n  lines.push(`  forbidOnly: isCI,`);\n\n  // Retries\n  lines.push(`  retries: isCI ? ${opts.retries} : 0,`);\n\n  // Workers\n  if (opts.workers !== undefined) {\n    lines.push(`  workers: ${opts.workers},`);\n  } else {\n    lines.push(`  workers: isCI ? 1 : undefined,`);\n  }\n\n  // Timeouts\n  lines.push(`  timeout: ${opts.timeout},`);\n  lines.push(`  expect: {`);\n  lines.push(`    timeout: ${opts.expectTimeout},`);\n  lines.push(`  },`);\n\n  if (opts.useArtkHarness) {\n    lines.push('');\n    lines.push(`  // Global setup: validate browser availability`);\n    lines.push(`  async globalSetup() {`);\n    lines.push(`    const config = loadArtkConfig();`);\n    lines.push(`    if (config.browsers.channel && config.browsers.channel !== 'bundled') {`);\n    lines.push(`      const validation = await validateBrowserChannel(config.browsers.channel);`);\n    lines.push(`      if (!validation.available) {`);\n    lines.push(`        console.error('\\\\nBrowser validation failed:\\\\n');`);\n    lines.push(`        console.error(\\`  Configured: \\${config.browsers.channel}\\`);`);\n    lines.push(`        console.error('  Status: Not available');`);\n    lines.push(`        console.error(\\`  Reason: \\${validation.reason}\\\\n\\`);`);\n    lines.push(`        console.error('Solutions:');`);\n    lines.push(`        console.error('  1. Install the browser (see reason above)');`);\n    lines.push(`        console.error(\\`  2. Edit artk.config.yml and remove or change 'channel'\\`);`);\n    lines.push(`        console.error('  3. Run bootstrap again to auto-detect browsers\\\\n');`);\n    lines.push(`        throw new Error(\\`Browser \\${config.browsers.channel} not available\\`);`);\n    lines.push(`      }`);\n    lines.push(`      console.log(\\`Browser validated: \\${config.browsers.channel} v\\${validation.version}\\`);`);\n    lines.push(`    }`);\n    lines.push(`  },`);\n  }\n\n  // Reporter\n  if (opts.includeReporter) {\n    lines.push(`  reporter: isCI ? 'github' : [['html', { open: 'never' }]],`);\n  } else if (opts.reporter) {\n    lines.push(`  reporter: ${opts.reporter},`);\n  }\n\n  // Use (shared test settings)\n  lines.push(`  use: {`);\n  lines.push(`    // Base URL - defaults to first target or env variable`);\n  if (opts.useArtkHarness && opts.targets.length > 0) {\n    const defaultTarget = opts.defaultTarget || opts.targets[0]?.name;\n    lines.push(`    baseURL: artkConfig.getTargetUrl('${defaultTarget}', env),`);\n  } else {\n    lines.push(`    baseURL: process.env.BASE_URL || 'http://localhost:3000',`);\n  }\n  lines.push('');\n  lines.push(`    // Tracing and screenshots`);\n  lines.push(`    trace: '${opts.trace}',`);\n  lines.push(`    screenshot: '${opts.screenshot}',`);\n  lines.push(`    video: '${opts.video}',`);\n  lines.push('');\n  lines.push(`    // Viewport`);\n  lines.push(`    viewport: { width: ${opts.viewport.width}, height: ${opts.viewport.height} },`);\n  lines.push('');\n  lines.push(`    // Headless mode`);\n  lines.push(`    headless: isCI || ${opts.headless},`);\n  if (opts.useArtkHarness) {\n    lines.push('');\n    lines.push(`    // Browser channel`);\n    lines.push(`    ...(artkConfig.browsers.channel && artkConfig.browsers.channel !== 'bundled'`);\n    lines.push(`      ? { channel: artkConfig.browsers.channel }`);\n    lines.push(`      : {}),`);\n  }\n  lines.push(`  },`);\n\n  // Projects (browsers and targets)\n  lines.push('');\n  lines.push(`  projects: [`);\n\n  // Auth setup project\n  if (opts.includeAuthSetup) {\n    lines.push(`    // Authentication setup`);\n    lines.push(`    {`);\n    lines.push(`      name: 'setup',`);\n    lines.push(`      testMatch: /.*\\\\.setup\\\\.ts/,`);\n    lines.push(`    },`);\n    lines.push('');\n  }\n\n  // Browser projects\n  for (const browser of opts.browsers) {\n    const deviceName = getDeviceName(browser);\n    const dependencies = opts.includeAuthSetup ? `['setup']` : '[]';\n\n    lines.push(`    {`);\n    lines.push(`      name: '${browser}',`);\n    lines.push(`      use: { ...devices['${deviceName}'] },`);\n    lines.push(`      dependencies: ${dependencies},`);\n    lines.push(`    },`);\n  }\n\n  // Target-specific projects\n  if (opts.targets.length > 0) {\n    lines.push('');\n    lines.push(`    // Target-specific projects`);\n    for (const target of opts.targets) {\n      lines.push(`    {`);\n      lines.push(`      name: '${target.name}',`);\n      lines.push(`      testDir: '${target.testDir || `tests/${target.name}`}',`);\n      if (opts.useArtkHarness) {\n        lines.push(`      use: {`);\n        lines.push(`        baseURL: artkConfig.getTargetUrl('${target.name}', env),`);\n        if (target.storageState) {\n          lines.push(`        storageState: '${target.storageState}',`);\n        }\n        lines.push(`      },`);\n      }\n      lines.push(`      dependencies: ['setup'],`);\n      lines.push(`    },`);\n    }\n  }\n\n  lines.push(`  ],`);\n\n  // Web server (optional)\n  lines.push('');\n  lines.push(`  // Uncomment to start your dev server before tests`);\n  lines.push(`  // webServer: {`);\n  lines.push(`  //   command: 'npm run dev',`);\n  lines.push(`  //   url: 'http://localhost:3000',`);\n  lines.push(`  //   reuseExistingServer: !isCI,`);\n  lines.push(`  // },`);\n\n  lines.push(`});`);\n  lines.push('');\n\n  return lines.join('\\n');\n}\n\n/**\n * Gets the Playwright device name for a browser.\n */\nfunction getDeviceName(browser: 'chromium' | 'firefox' | 'webkit'): string {\n  switch (browser) {\n    case 'chromium':\n      return 'Desktop Chrome';\n    case 'firefox':\n      return 'Desktop Firefox';\n    case 'webkit':\n      return 'Desktop Safari';\n  }\n}\n\n/**\n * Generates a minimal playwright.config.ts for quick setup.\n */\nexport function generateMinimalPlaywrightConfig(): string {\n  return `import { defineConfig, devices } from '@playwright/test';\n\nexport default defineConfig({\n  testDir: './tests',\n  fullyParallel: true,\n  forbidOnly: !!process.env.CI,\n  retries: process.env.CI ? 2 : 0,\n  workers: process.env.CI ? 1 : undefined,\n  reporter: 'html',\n  use: {\n    baseURL: process.env.BASE_URL || 'http://localhost:3000',\n    trace: 'on-first-retry',\n  },\n  projects: [\n    {\n      name: 'chromium',\n      use: { ...devices['Desktop Chrome'] },\n    },\n  ],\n});\n`;\n}\n\n/**\n * Generates tsconfig.json for the E2E test project.\n */\nexport function generateTsConfig(): string {\n  const config = {\n    compilerOptions: {\n      target: 'ES2022',\n      module: 'ESNext',\n      moduleResolution: 'bundler',\n      strict: true,\n      esModuleInterop: true,\n      skipLibCheck: true,\n      forceConsistentCasingInFileNames: true,\n      resolveJsonModule: true,\n      declaration: false,\n      noEmit: true,\n      paths: {\n        '@artk/core/*': ['./vendor/artk-core/*'],\n      },\n    },\n    include: ['tests/**/*.ts', 'playwright.config.ts'],\n    exclude: ['node_modules'],\n  };\n\n  return JSON.stringify(config, null, 2) + '\\n';\n}\n","/**\n * @module install/gitignore-generator\n * @description .gitignore generator for ARTK E2E isolated installation.\n *\n * Generates a comprehensive .gitignore for E2E test directories,\n * including patterns for test artifacts, auth states, and dependencies.\n *\n * @example\n * ```typescript\n * import { generateGitignore, GitignoreOptions } from '@artk/core/install';\n *\n * const gitignore = generateGitignore({\n *   includeAuthStates: true,\n *   includeTestArtifacts: true,\n * });\n *\n * await fs.writeFile('artk-e2e/.gitignore', gitignore);\n * ```\n */\n\n/**\n * Options for generating .gitignore.\n */\nexport interface GitignoreOptions {\n  /**\n   * Include patterns for auth storage states.\n   * These contain sensitive session data and should not be committed.\n   * @default true\n   */\n  includeAuthStates?: boolean;\n\n  /**\n   * Include patterns for test artifacts (traces, screenshots, videos).\n   * @default true\n   */\n  includeTestArtifacts?: boolean;\n\n  /**\n   * Include patterns for coverage reports.\n   * @default true\n   */\n  includeCoverage?: boolean;\n\n  /**\n   * Include patterns for IDE and editor files.\n   * @default true\n   */\n  includeIdeFiles?: boolean;\n\n  /**\n   * Include patterns for OS-specific files.\n   * @default true\n   */\n  includeOsFiles?: boolean;\n\n  /**\n   * Additional patterns to include.\n   */\n  additionalPatterns?: string[];\n\n  /**\n   * Patterns that should never be ignored (exceptions).\n   * Will be prefixed with !\n   */\n  exceptions?: string[];\n}\n\n/**\n * Default options for .gitignore generation.\n */\nconst DEFAULT_OPTIONS: Required<GitignoreOptions> = {\n  includeAuthStates: true,\n  includeTestArtifacts: true,\n  includeCoverage: true,\n  includeIdeFiles: true,\n  includeOsFiles: true,\n  additionalPatterns: [],\n  exceptions: [],\n};\n\n/**\n * Gitignore section with patterns.\n */\ninterface GitignoreSection {\n  header: string;\n  patterns: string[];\n}\n\n/**\n * Creates the auth states section.\n */\nfunction createAuthStatesSection(): GitignoreSection {\n  return {\n    header: 'Auth Storage States (sensitive)',\n    patterns: [\n      '.auth-states/',\n      '*.storageState.json',\n      // But keep the directory structure\n      '!.auth-states/.gitkeep',\n    ],\n  };\n}\n\n/**\n * Creates the test artifacts section.\n */\nfunction createTestArtifactsSection(): GitignoreSection {\n  return {\n    header: 'Test Artifacts',\n    patterns: [\n      'test-results/',\n      'playwright-report/',\n      'blob-report/',\n      '.playwright/',\n      '*.trace.zip',\n      'screenshots/',\n      'videos/',\n    ],\n  };\n}\n\n/**\n * Creates the coverage section.\n */\nfunction createCoverageSection(): GitignoreSection {\n  return {\n    header: 'Coverage',\n    patterns: ['coverage/', '.nyc_output/', '*.lcov'],\n  };\n}\n\n/**\n * Creates the IDE files section.\n */\nfunction createIdeFilesSection(): GitignoreSection {\n  return {\n    header: 'IDE and Editor',\n    patterns: [\n      '.idea/',\n      '.vscode/',\n      '*.swp',\n      '*.swo',\n      '*~',\n      '.project',\n      '.classpath',\n      '.settings/',\n    ],\n  };\n}\n\n/**\n * Creates the OS files section.\n */\nfunction createOsFilesSection(): GitignoreSection {\n  return {\n    header: 'OS Files',\n    patterns: [\n      '.DS_Store',\n      'Thumbs.db',\n      'Desktop.ini',\n      '*.lnk',\n    ],\n  };\n}\n\n/**\n * Creates the dependencies section.\n */\nfunction createDependenciesSection(): GitignoreSection {\n  return {\n    header: 'Dependencies',\n    patterns: [\n      'node_modules/',\n      // Keep vendored @artk/core\n      '!vendor/',\n      '!vendor/**',\n    ],\n  };\n}\n\n/**\n * Creates the build/dist section.\n */\nfunction createBuildSection(): GitignoreSection {\n  return {\n    header: 'Build Output',\n    patterns: ['dist/', 'build/', '*.tsbuildinfo'],\n  };\n}\n\n/**\n * Creates the environment section.\n */\nfunction createEnvironmentSection(): GitignoreSection {\n  return {\n    header: 'Environment',\n    patterns: [\n      '.env',\n      '.env.local',\n      '.env.*.local',\n      // But keep example env files\n      '!.env.example',\n      '!.env.template',\n    ],\n  };\n}\n\n/**\n * Creates the logs section.\n */\nfunction createLogsSection(): GitignoreSection {\n  return {\n    header: 'Logs',\n    patterns: ['*.log', 'npm-debug.log*', 'yarn-debug.log*', 'yarn-error.log*'],\n  };\n}\n\n/**\n * Formats a gitignore section into string lines.\n */\nfunction formatSection(section: GitignoreSection): string {\n  const lines: string[] = [];\n  lines.push(`# ${section.header}`);\n  lines.push(...section.patterns);\n  lines.push('');\n  return lines.join('\\n');\n}\n\n/**\n * Generates a .gitignore string for ARTK E2E installation.\n *\n * @param options - Generation options\n * @returns Formatted .gitignore content\n */\nexport function generateGitignore(options?: GitignoreOptions): string {\n  const opts: Required<GitignoreOptions> = {\n    ...DEFAULT_OPTIONS,\n    ...options,\n  };\n\n  const sections: GitignoreSection[] = [];\n\n  // Header\n  const header = `# ARTK E2E .gitignore\n# Generated by ARTK install\n# ${new Date().toISOString().split('T')[0]}\n\n`;\n\n  // Always include dependencies and build\n  sections.push(createDependenciesSection());\n  sections.push(createBuildSection());\n  sections.push(createEnvironmentSection());\n  sections.push(createLogsSection());\n\n  // Conditional sections\n  if (opts.includeAuthStates) {\n    sections.push(createAuthStatesSection());\n  }\n\n  if (opts.includeTestArtifacts) {\n    sections.push(createTestArtifactsSection());\n  }\n\n  if (opts.includeCoverage) {\n    sections.push(createCoverageSection());\n  }\n\n  if (opts.includeIdeFiles) {\n    sections.push(createIdeFilesSection());\n  }\n\n  if (opts.includeOsFiles) {\n    sections.push(createOsFilesSection());\n  }\n\n  // Additional patterns\n  if (opts.additionalPatterns.length > 0) {\n    sections.push({\n      header: 'Additional Patterns',\n      patterns: opts.additionalPatterns,\n    });\n  }\n\n  // Build content\n  let content = header;\n  for (const section of sections) {\n    content += formatSection(section);\n  }\n\n  // Add exceptions at the end\n  if (opts.exceptions.length > 0) {\n    content += '# Exceptions (never ignore)\\n';\n    for (const exception of opts.exceptions) {\n      content += `!${exception}\\n`;\n    }\n    content += '\\n';\n  }\n\n  return content;\n}\n\n/**\n * Common .gitignore patterns for E2E testing.\n */\nexport const GITIGNORE_PATTERNS = {\n  authStates: ['.auth-states/', '*.storageState.json'],\n  testArtifacts: ['test-results/', 'playwright-report/', '*.trace.zip'],\n  coverage: ['coverage/', '.nyc_output/'],\n  dependencies: ['node_modules/'],\n  environment: ['.env', '.env.local'],\n} as const;\n\n/**\n * Creates a minimal .gitignore for quick setup.\n */\nexport function generateMinimalGitignore(): string {\n  return `# ARTK E2E Minimal .gitignore\nnode_modules/\n.auth-states/\ntest-results/\nplaywright-report/\n.env\n*.log\n`;\n}\n\n/**\n * Merges existing .gitignore content with ARTK patterns.\n *\n * @param existingContent - Existing .gitignore content\n * @param options - Generation options\n * @returns Merged .gitignore content\n */\nexport function mergeGitignore(\n  existingContent: string,\n  options?: GitignoreOptions\n): string {\n  const artkPatterns = generateGitignore(options);\n\n  // Parse existing patterns\n  const existingPatterns = new Set(\n    existingContent\n      .split('\\n')\n      .filter((line) => line.trim() && !line.startsWith('#'))\n  );\n\n  // Parse ARTK patterns (skip header comments)\n  const artkLines = artkPatterns.split('\\n');\n  const newPatterns: string[] = [];\n\n  for (const line of artkLines) {\n    const trimmed = line.trim();\n    if (trimmed && !trimmed.startsWith('#') && !existingPatterns.has(trimmed)) {\n      newPatterns.push(line);\n    }\n  }\n\n  if (newPatterns.length === 0) {\n    return existingContent;\n  }\n\n  // Append new patterns\n  const separator = existingContent.endsWith('\\n') ? '' : '\\n';\n  return (\n    existingContent +\n    separator +\n    '\\n# ARTK E2E Additions\\n' +\n    newPatterns.join('\\n') +\n    '\\n'\n  );\n}\n","/**\n * @module install\n * @description Installation utilities for ARTK E2E independent architecture.\n * Generates package.json, playwright.config.ts, and other required files.\n *\n * @example\n * ```typescript\n * import {\n *   generatePackageJson,\n *   generatePlaywrightConfig,\n *   generateGitignore\n * } from '@artk/core/install';\n *\n * const packageJson = generatePackageJson({ projectName: 'my-e2e-tests' });\n * const playwrightConfig = generatePlaywrightConfig({ targets: ['user-portal'] });\n * const gitignore = generateGitignore();\n * ```\n */\n\nexport * from './package-generator.js';\nexport * from './playwright-config-generator.js';\nexport * from './gitignore-generator.js';\n\n/**\n * Install module version.\n */\nexport const INSTALL_MODULE_VERSION = '1.0.0';\n"]}